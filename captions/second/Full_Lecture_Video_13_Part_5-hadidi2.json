[{"text":"I need to spend one to do my inserts, now I have two dollars.","width":384},{"text":"I'm going to put in the two and I have two bucks leftover so I'm going to save both at the two.","width":576},{"text":"I've got two dollars sitting at that two.","width":448},{"text":"I'm going to do another insert. I have no dollars before I do the insert, it's all on the board.","width":512},{"text":"I'm going to do my insert. I now have three dollars plus the two that are on the board. I need to do a resize.","width":512},{"text":"And that means that I need to copy data.","width":576},{"text":"I'm going to use the money that is on the board to do the data copy. This pattern is going to continue. I'm going to use the money that I have in the data structure to move the elements that are in the current data structure. And then we use the money that I have in my pocket to do an insert and save it for later.","width":1280},{"text":"So when I'm doing this copy, I'm going to take one of the dollars of the two. ","width":512},{"text":"To move down the one.","width":128},{"text":"Spent one of the dollars that was on the board and now I need to move the two so I can spend the other dollar that was at the tow.","width":640},{"text":"I still have three dollars in my pocket to do my insert of the three. So spend one of them to do the insert of the three and then I save","width":896},{"text":"two dollars in the array.","width":192},{"text":"Insert four, I have three dollars to do the insert. I don't need to do any data copies, so I'm going to spend one of my three dollars to put it in.","width":512},{"text":"Save two dollars in that cell.","width":256},{"text":"Now I'm going to do an insert of 5. What's going to happen here?","width":384},{"text":"New array, I need to double it.","width":320},{"text":"Now I need to copy over all of the elements of the old array.","width":1152},{"text":"I have three dollars in my pocket right now and I have whatever's in the data structure available too.","width":576},{"text":"Where is the money going to come from?","width":192},{"text":"Already in the array. I don't have to go into anything for my allowance for this operation. I can just use what's in the array.","width":704},{"text":"Do you see how that works?","width":256},{"text":"Every new element that I've added after resize-what's true about it always?","width":704},{"text":"It always has two dollars available to it.","width":448},{"text":"It uses one of those to copy its buddy in the old half of the array. And it uses one of those dollars to copy itself down.","width":512},{"text":"After every resize, I won't have any dollars leftover in the data structure. As I'm filling up the N things that I've added and putting two dollars in the structure every time, so that when it comes time to resize it, the new elements pay for the old ones. That's really like insurance.","width":1088},{"text":"And then they also have one dollar for themselves to copy themselves down. So when I do this resize I'm going to spend","width":768},{"text":"one of the dollars at the three to move down its buddy, 1. One of the dollars at the four to move down its buddy, 2.","width":640},{"text":"The dollar at the three to move down the three.","width":256},{"text":"The dollar at the four to move down the four.","width":128},{"text":"I insert my five","width":320},{"text":"with its extra two dollars that I have.","width":192},{"text":"If I continue doing these inserts, I'll have six, seven, eight because I'm getting three for every insert. So I'm putting two in there and I'm using one to actually place the data in the array.","width":1152},{"text":"And it's always going to be the case-the invariant that I'm maintaining here is that there's always two dollars at the new elements in the array.","width":704},{"text":"I always have enough to copy the data over whenever I need to do so.","width":384},{"text":"The key observation is that what was the cost that I had to associate with each operation, each aggregate operation, the push back operation.","width":704},{"text":"How big was that?","width":192},{"text":"What was the cost for push back in terms of dollars","width":640},{"text":"If I was the parent paying the allowance how much would I pay?","width":256},{"text":"Three bucks per push back. That's a fixed constant amount. The amortized cost of doing these push backs is three.","width":704},{"text":"Where three is the three elementary operations, however long it takes you to do a data copy. It costs three of those amortized.","width":768},{"text":"For a push back. So each push back is going to take time proportional to something like three data copies.","width":512},{"text":"One of them is for itself and then it saves two to be able to use later.","width":384},{"text":"The whole point of this method is to try and make sure that you come out even whenever you're going to do one of these expensive operations. Its using the cheap operations to pay for the more expensive one.","width":832},{"text":"And the observation here was that the amortized cost was fixed.","width":384}]