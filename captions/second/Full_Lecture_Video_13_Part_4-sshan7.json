[{"text":"yeah, I've got this really wrong. alright, so my dequeue, is calling S2. what was S2 intialized to ? 0","width":1078},{"text":"which is Okay, there's nothing in there","width":247},{"text":"but","width":45},{"text":"i'm never changing it so I'm never going to put anything in there","width":172},{"text":"so i'm waiting forever","width":165},{"text":"my dequeue is never getting into anything","width":102},{"text":"and my enqueue is gonan run on forever","width":198},{"text":"so if we look at our requirements","width":215},{"text":"one of the things we asked for is that have we stopped overflow from happening","width":490},{"text":"is there overflow in this example? potential for overflow?","width":503},{"text":"what was the definition of overflow","width":479},{"text":"overwriting good data with something i'm trying to put in","width":264},{"text":"do we have overflow here? Yes, because the writer is going around writing writing and writing","width":439},{"text":"do you have underflow? Not really","width":253},{"text":"Why not?","width":129},{"text":"yes because dequeue can never really take out anything","width":162},{"text":"so you can really have underflow if you can't take anything out","width":189},{"text":"so this didn't work","width":122},{"text":"what else did I want to say about this","width":316},{"text":"do we have a race condition?","width":214},{"text":"is there any race conditions in here?","width":306},{"text":"no ","width":20},{"text":"why not?","width":242},{"text":"we've got our locks. So we can only have one enqueue in there at the same time","width":347},{"text":"and our dequeue is never going anywhere so it doesn't really matter","width":412},{"text":"actually it's gonna acquire the lock and it's gonna wait, and it's gonna block everybody from doing anything","width":486},{"text":"once anyone trying to call enqueue, the whole system is gonna come to a standstill","width":359},{"text":"so, we do have a deadlock. it's not a race condition but we've got deadlock","width":386},{"text":"and we'll talk more about deadlock on wednesday","width":194},{"text":"ok so, lets' move on","width":968},{"text":"we still have s1 and s2","width":142},{"text":"still initialized to 16 and 0","width":114},{"text":"so this is still spaces","width":238},{"text":"and this is still items","width":224},{"text":"what are the problems that you might noticed before from our prior one","width":547},{"text":"no matter what the enqueue did, it only affected S1","width":393},{"text":"and no matter what the dequeue did, it only affected S2","width":241},{"text":"so there was no coordination between the Enqueue and the Dequeue","width":258},{"text":"so i need to be able to tell the reader the dequeue that there's something to take out","width":499},{"text":"so for my next solution, i've mixed it up a bit","width":282},{"text":"so now i do a sem_wait on s2","width":443},{"text":"and a sem_post on s1","width":144},{"text":"and a sem_wait on S1 and a sem_post on s2","width":483},{"text":"did that work","width":2687},{"text":"Okay did i fix my problem?","width":276},{"text":"No oh","width":99},{"text":"ok, what did i do this time","width":352},{"text":"only dequeue could work this time","width":217},{"text":"why can't enqueue work","width":289},{"text":"S2 is always 0","width":122},{"text":"so i'm starting on calling S2. I try to decrement it, and I've got a problem","width":464},{"text":"I did fix one of my other problems though","width":126},{"text":"did you notice what I switched?","width":253},{"text":"i switched the order of the sem_wait and the lock","width":360},{"text":"i' dont actually acquire the semaphore until the semaphore is released","width":225},{"text":"and that is very important","width":138},{"text":"because if I acquire the lock and I wait for the semaphore to be released","width":404},{"text":"but somebody is not gonna released the semaphore unless they've got the lock.","width":189},{"text":"i've created a bad problem called deadlock","width":277},{"text":"that fixed that a little bit","width":448},{"text":"Okay","width":90},{"text":"so the problem here was This one starts at zero, right?","width":652},{"text":"so whenever I call sem_wait on it","width":99},{"text":"it's just gonna block","width":476},{"text":"what about this guy","width":98},{"text":"Do i have overflow?","width":347},{"text":"Do I have undeflow? Why?","width":380},{"text":"Here","width":34},{"text":"what does S1 start at?","width":261},{"text":"it starts at 16","width":179},{"text":"my first call to dequeue is gonna do a sem_wait on S1 and its' gonna say ","width":347},{"text":"\"Oh! Cool, it was 16 now, it's 15 here, so there' nothing really in there\"","width":433},{"text":"so i've given you some steps on how you would do this, i want you guys to implement your own","width":870},{"text":"i can tell you that you can do it with those variables","width":237},{"text":"figure out what you want the variables to be initialized to ","width":244},{"text":"and how to implement your enqueue and dequeue","width":303},{"text":"so it's only a couple of lines of code don't make it too complex","width":4626},{"text":"Yeah?","width":4544}]