[{"text":"So the analogy ","width":384},{"text":"Is analogous right rotate","width":640},{"text":"Which is just the case where that the balance is on the other side","width":192},{"text":"Nothing really different","width":128},{"text":"All of this really amounts to pointer manipulations about the nodes sort of 80 and 90","width":704},{"text":"You're changing the left child of the 90 to point at the 80","width":448},{"text":"You're changing the 80's right child to point to the 85","width":192},{"text":"And then you're changing the subroot to point at the 90 ","width":320},{"text":"What about this case","width":512},{"text":"Wanna throw a wrench at you","width":320},{"text":"If you can dodge a wrench you can dodge a ball","width":256},{"text":"What am I gonna do here","width":256},{"text":"So i still have the case where I look at ","width":128},{"text":"First of all where is the imbalance","width":192},{"text":"Is 40 imbalanced","width":384},{"text":"Height of left is 0","width":192},{"text":"Height of right is 1","width":64},{"text":"Balance at 40 is","width":128},{"text":"minus 1","width":64},{"text":"So 40 is fine","width":192},{"text":"So where is the imbalance","width":192},{"text":"70","width":64},{"text":"Height of the left of the heigh of the tree rooted at 40 is 2","width":320},{"text":"Height of the tree rooted at 80 is 90","width":192},{"text":"So balance factor of 70 is 2","width":192},{"text":"I know that 70 is imbalanced and furthermore it is imbalanced by being heavy on the left","width":576},{"text":"So this is my right rotate ","width":128},{"text":"Let's try it","width":128},{"text":"I'm gonna do a right rotate","width":192},{"text":"That's gonna give me","width":192},{"text":"So the 40 is gonna slide up the conveyor","width":128},{"text":"The 70 is gonna slide down and be the right child of the 40","width":256},{"text":"And then the right child of the 40 is going to grab onto dear life to the thing that swung down","width":384},{"text":"We're gonna get a tree that looks like 40","width":128},{"text":"20","width":64},{"text":"70","width":256},{"text":"80","width":64},{"text":"And then","width":128},{"text":"He's gonna attach there","width":448},{"text":"Is that balanced","width":320},{"text":"Crap","width":64},{"text":"That didn't balance the tree","width":256},{"text":"We mirroried the picture","width":256},{"text":"Now we're heavy on the right","width":128},{"text":"So this one is gonna be a little bit more tricky","width":256},{"text":"We can't just do a straight up right rotation","width":256},{"text":"Probably here","width":832},{"text":"Again","width":64},{"text":"Does that work for this case","width":128},{"text":"These can be arbitrarily complicated","width":640},{"text":"When moving things around you gotta be really careful","width":256},{"text":"Let's diagnose why this broke","width":832},{"text":"What was different about this tree","width":192},{"text":"Compared to the one above","width":128},{"text":"Ignoring the fact that its hevay on the other side","width":320},{"text":"What was it about this particular structure that caused the rotation not to work","width":320},{"text":"The fact that it looks like this","width":384},{"text":"This one kind of had a heavy all along one line","width":448},{"text":"Eveyrthing kind of agreed","width":128},{"text":"We're all gonna be hevay on the right side","width":192},{"text":"Easy to rotate to the left","width":128},{"text":"This one is kind of confused","width":64},{"text":"70 is like Im hevay on the left","width":192},{"text":"40 is like Im hevay on the right","width":128},{"text":"So if you just rotate to the right","width":128},{"text":"You end up with the mirror picture","width":192},{"text":"you still end up with this problem","width":192},{"text":"you didn't end up with balanced trees","width":256},{"text":"So if we know how to fix pictures that look like this or the laternative which is","width":384},{"text":"or that","width":128},{"text":"We know how to fix those","width":512},{"text":"Can we ","width":64},{"text":"yeah?","width":64},{"text":"Yeah","width":256},{"text":"So let's translate this picture","width":128},{"text":"Weird dog legged looking thing","width":192},{"text":"Let's make it look like a straight function and use our function that we wrote","width":320},{"text":"and doing that will be as simple us using left rotate and rotate","width":256},{"text":"Which I blieve you can write it's pretty simple","width":192},{"text":"if we have those functions already","width":256},{"text":"Fixing this ","width":64},{"text":"Ok let's do a left","width":128},{"text":"about the 40","width":64},{"text":"To kind of move everything over to the left","width":256},{"text":"So then everything is heavy on this side","width":384},{"text":"And then we just do a right rotate around the 70 to just move everything","width":384},{"text":"So this will be an instance of a double rotation","width":192},{"text":"So sometimes you can get away with a single rotation","width":256},{"text":"Sometimes you need a double","width":64},{"text":"In this case we have to double rotate","width":256},{"text":"First thing we do is a rotate ","width":384},{"text":"Hard to draw straight lines","width":192},{"text":"Hands start sticking","width":128},{"text":"So we're first gonna do a left rotate about the node 40","width":320},{"text":"Which 40 isn't imbalanced","width":128},{"text":"Maybe a little bit weird but we're still gonna do it","width":192},{"text":"eft rotate around the 40","width":128},{"text":"To move this weird dog legged part of ","width":192},{"text":"So eveyrhing is on the left","width":128},{"text":"Once everything is on the elft we know ho to fix that","width":320},{"text":"So the first step is decompose into something I know how to do","width":192},{"text":"And I know to fix it if its all heavy on the left or all heavy on the right","width":320},{"text":"Not everything is on the elft","width":64},{"text":"I'll move everything over to the elft and fix it","width":192},{"text":"So first rotation I'm gonna do is left rotate about the 40","width":256},{"text":"Which will give me the following immediate picture","width":384},{"text":"The 50 will become the new root","width":448},{"text":"Of that subtree","width":192},{"text":"40 will slide down","width":128},{"text":"note that this is still not balanced","width":384},{"text":"But now","width":192},{"text":"It looks like that","width":320},{"text":"It's all heaviness is in agreement","width":320},{"text":"the 70 says I'm heavy on the left","width":128},{"text":"50 says well I'm not imbalanced but I'm eavy on the elft","width":320},{"text":"So everybody is sort of agreeing where msot of the ndoes are","width":256},{"text":"So no we can do a simple right rotation about the 70","width":192},{"text":"So we can imagine a little conveyor belt here","width":256},{"text":"In that direction","width":64},{"text":"So 50 will slide up to become the new root","width":192},{"text":"That 70 attached ","width":192},{"text":"Sort of sldies down and knocks off the 60","width":192},{"text":"From the 50","width":64},{"text":"So this child is kind of moving down","width":192},{"text":"And it's gonna take over where the 60 was","width":256},{"text":"So the 70 and the 80 comes along fore the ride","width":192},{"text":"And then the 60 is gonna reattach to the 70-","width":256},{"text":"So it doesn't fall off into oblivion and die","width":192}]