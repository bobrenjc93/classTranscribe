[{"text":"alright! do we have sound, testing testing yes great! ","width":1423},{"text":"good morning and welcome to cs 241","width":139},{"text":"here's what we're going to do today","width":78},{"text":"i'm going to cast your minds back to 1991","width":401},{"text":"when a little while ago yes tim berners-lee posted the following","width":388},{"text":"the world wide web an executive summary","width":188},{"text":"the WWW project merges the techniques of information retrieval and hypertext to make an easy but powerful global information system. ","width":460},{"text":"little did he know that he would be so right.","width":184},{"text":"i'll skip on to the other fun bits like","width":173},{"text":"\"to follow a link are really clicks with a mouse! these are the only operations necessary to access the entire world of data!\" ","width":455},{"text":"he also says inside the same posting that ","width":140},{"text":"\"making a web is as simple as writing a  few sgml files\"","width":235},{"text":"so html actually has a history before that which was a larger markup language called sgml","width":412},{"text":"eventually as you know we decided to use a slightly simplified markup language called html","width":334},{"text":"the www model gets over frustrating incompatibilities of data format between and suppliers and readers by allowing negotiation of format between a smart browser and a smart server","width":727},{"text":"so here was tim berners lee's insight, is that","width":169},{"text":"what we need to figure out is not the coding and the making it work on all kinds of platforms,","width":297},{"text":"yes we need to do that,","width":71},{"text":"but it's actually the protocol that is important","width":204},{"text":"the protocol between the client and the server","width":291},{"text":"the summary does not describe the many exciting opened up by the WWW project ","width":356},{"text":"remember at this point he's just talking to a few friends at CERN, a physics lab in Europe","width":322},{"text":"such as efficient document caching, a reduction of redundant out of date copies and use of knowledge daemons ","width":375},{"text":"there is more information in the online project blah blah blah","width":141},{"text":"here, here's a very simple prototype","width":96},{"text":"128.14 and it gives you an IP address ","width":201},{"text":"i found an early version of his code","width":242},{"text":"version 0.2","width":161},{"text":"it has some bugs in it, it's not even secure","width":147},{"text":"but i thought it'd fun to show you the code because here's what your'e going to do in lab tomorow","width":223},{"text":"you're going to write a web server","width":188},{"text":"i'm going to give you half the code you fill in the rest","width":125},{"text":"and you're actually going to use mmap to be able to serve the files back onto a web page","width":428},{"text":"and here's the thing about searching","width":452},{"text":"at the other end of the scale, large information providers may provide an http server with full text or keyword indexing","width":597},{"text":"was tim berners-lee actually thinking about google at this point? ","width":408},{"text":"i think maybe not, i think maybe at the time he was thinking about servers that would actually index documents on that machine","width":561},{"text":"not about machines that were powerful enough to index the whole WWW project","width":385},{"text":"but anyways, next time i meet him i'll ask him what he meant by that comment","width":345},{"text":"so yeah, i'll include this text in tomorrow's section, you can read it yourself","width":437},{"text":"so let's turn to today's handout ","width":684},{"text":"alright, so just as a warmup exercise, how do we mount a disk image?","width":393},{"text":"so let's say i've given you a file and that file actually represents a complete file system","width":316},{"text":"what do i need to say? ","width":240},{"text":"well you're going to use the mount command","width":251},{"text":"because it's a file, a stream of bytes, we actually need to use a loopback so we're going to need the -t option because we need to turn it into a block based device ","width":985},{"text":"we give it a reference to a file and we give it a point on our existing file system","width":338},{"text":"where we would like that file system to appear","width":247},{"text":"but the big big idea is 'hey i'm mounting it' i'm adding to my existing file system","width":407},{"text":"then i can cd into it and potentially change the files of that file system","width":354},{"text":"okay, what is the set uid bit?","width":212},{"text":"what's the purpose of that?","width":168},{"text":"so on a file i can set the uid bit and if I do what happens when people execute a file with that bit set? ","width":947},{"text":"yes! that's right, it's the process that has started is not started as you as the caller","width":664},{"text":"it's started under the user of the owner of the file ","width":473},{"text":"so for example, if we have a program called sudo, which we do","width":361},{"text":"and the owner of that is root","width":219},{"text":"then if i've set the UID bit ","width":375},{"text":"then when you execute sudo, it doesn't execute as you","width":206},{"text":"it actually gets all the privileges of root. so that's a kind of typical use of suid. my goodness, that's not your eyes, that is this projector. there we go, that's a bit better, right.","width":668},{"text":"so if for example you wanted to have a program that made some symbolic links and mounted a directory ","width":568},{"text":"and you wanted to do all this stuff that requires root and it requires admin access","width":396},{"text":"you might make a program and then by using suid ","width":408},{"text":"you could then allow other non admin people to run your script and for this script to do administrative things for them ","width":734},{"text":"so let's turn our attention to mmap ","width":295},{"text":"the purpose of mmap is to give us virtual memory that is backed by a file","width":566},{"text":"and when we try to read or write those virtual memory addresses ","width":254},{"text":"the kernel will automatically read or write to the file ","width":347},{"text":"that's on the file system","width":172},{"text":"we don't need to bother with reading it into our data structure","width":226},{"text":"our data structure can simply just be at that address","width":324},{"text":"okay well let me ask you now um, mention that","width":157},{"text":"we've actually got a couple of options ","width":419},{"text":"first of all ","width":74},{"text":"you have to choose one","width":49},{"text":"you have to say ","width":44},{"text":"when i'm going to call mmap, i either want a private copy or a shared copy","width":835},{"text":"so","width":88},{"text":"here's what happens if it's private","width":122},{"text":"you say","width":94},{"text":"any changes i make to my data structure","width":407},{"text":"i don't want them to be pushed back onto the disk","width":209},{"text":"i just want my own private copy","width":319},{"text":"so now ","width":69},{"text":"it's like saying ","width":46},{"text":"okay, load this stuff in, i'm going to scribble all over it and i don't want anybody else to know about it","width":303},{"text":"it's my own private copy, right?","width":152},{"text":"and in fact for efficiency, we don't make an immediate copy of these pages, we do it only when a process attempts to write to those pieces of memory","width":747},{"text":"in other words, if i started four copies of your program, i don't need four times as much ram ","width":511},{"text":"i will only actually make a copy of a frame when you attempt to write into it","width":192}]