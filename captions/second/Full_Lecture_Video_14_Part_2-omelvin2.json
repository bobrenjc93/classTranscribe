[{"text":"no there's no order right there's no ordering i this because everytime you do a condition broadcast","width":523.1818182468414},{"text":"there's no queue","width":71.18181824684143},{"text":"it just picks one","width":114.18181824684143},{"text":"it's possible that the operating system implemented as a queue and it took the frst one that asked for it","width":425.18181824684143},{"text":"but theres no guarantee of that","width":137.18181824684143},{"text":"you don't know how the operating sytem implemented a condiion signal","width":936.1818182468414},{"text":"why am i unlokcing the mutex when i do a write ","width":324.18181824684143},{"text":"there's actually a reason for it","width":279.18181824684143},{"text":"what happens when i unlock","width":105.18181824684143},{"text":"we said we didn't need it before but actually we do","width":161.18181824684143},{"text":"why do we need it?","width":318.18181824684143},{"text":"right. so we want anybody who's coming in reader or writer","width":400.18181824684143},{"text":"we want them to be sitting on the condition variables","width":228.18181824684143},{"text":"here and here","width":96.18181824684143},{"text":"the only way for them to get to the condition variable is if the lock is unlocked","width":283.18181824684143},{"text":"while theres a writer writing","width":83.18181824684143},{"text":"that doesn't mean another writers' going to get in","width":156.18181824684143},{"text":"it just means another writer will get to the condition variable","width":672.1818182468414},{"text":"that clear? can let it gel. anybody have anymore questions?","width":541.1818182468414},{"text":"because i want to move on to the topic we are suppoesd to be talking about today which is deadlock","width":459.18181824684143},{"text":"ok","width":213.18181824684143},{"text":"so i'm going to do something that i know lawrence never does but i'm going to use some slides","width":984.1818182468414},{"text":"dr seuss' birthday was on monday so i thought we would honor him with the ultimate deadlock","width":419.18181824684143},{"text":"actually if you take algorithms sometimes people talk about cat in the hat which is recursion","width":314.18181824684143},{"text":"dr seuess seemed to have an affinity for algorithms","width":269.18181824684143},{"text":"one of the things that we didn't necessarily see this specific problem of deadlock when we looked at the readers and writers problem but we did see in the circular buffer but we did see things getting stuck","width":1026.1818182468414},{"text":"and the canonical example of deadlock is these are the north going and south going zacks","width":491.18181824684143},{"text":"they both walk up to each other and they go \"I'm not moving. I want your spot\"","width":386.18181824684143},{"text":"and the other one wats my spot","width":167.18181824684143},{"text":"and neither one is willing to make any adjustments and they're stuck","width":399.18181824684143},{"text":"this is the canonical deadlock","width":150.18181824684143},{"text":"what's happening is i'm waiting for him to move and he's waiting for me to move","width":367.18181824684143},{"text":"and with that we create something that is actually very easily to notice that there is deadlock in the system","width":517.1818182468414},{"text":"so we see deadlock everyday","width":286.18181824684143},{"text":"anybody living you know who's ever lived in a city you've seen deadlock on the streets any time","width":351.18181824684143},{"text":"and it could be caused by lots of different things","width":115.18181824684143},{"text":"it could be caused by some idiot driving into the middle of the streeet and stopping there and deciding what to do","width":585.1818182468414},{"text":"and all the other traffice come along and starts going yeah um we're stuck","width":463.18181824684143},{"text":"and it doesn't even have to be you konw an indecisvie problem","width":353.18181824684143},{"text":"it could just be that there's lots of traffic and a car pulls into the intersection and can't make it all l the way across and you're going to have the same problem","width":719.1818182468414},{"text":"this is what we call gridlock","width":151.18181824684143},{"text":"gridlock is deadlock","width":86.18181824684143},{"text":"nobody can move","width":66.18181824684143},{"text":"everybody is waiting for some other spot that doesn't exist","width":282.18181824684143},{"text":"even if the cars that were blocking it in the first place are gone it still can't go anywhere","width":402.18181824684143},{"text":"what we're going to see is that the main problem here is that the first car is waiting for the left car to move the left car is waiting for the bottom car to move and the bottom car is waiting for the right car to move and so and so forth","width":771.1818182468414},{"text":"and again the same problem that we had with the north going and southgoing with the zacks","width":213.18181824684143},{"text":"is that we can't get anywhere","width":193.18181824684143},{"text":"so essentially","width":215.18181824684143},{"text":"deadlock is a situation where ","width":235.18181824684143},{"text":"we have processes if you want to get away from the cars and the dr seuss characters","width":293.18181824684143},{"text":"we have processes that are waiting for an event that will never occur","width":381.18181824684143},{"text":"and it turns out that","width":235.18181824684143},{"text":"this doesn't even have to be multiple processes","width":211.18181824684143},{"text":"typically it is multple processes and if","width":279.18181824684143},{"text":"they can't make any progress","width":158.18181824684143},{"text":"then the system is deadlocked","width":234.18181824684143},{"text":"turns out that a single source can deadlock itself","width":350.18181824684143},{"text":"it's waiting for some resource how do you think it could deadlock itself?","width":570.1818182468414},{"text":"anybody?","width":247.18181824684143},{"text":"i have one process and it's moving along","width":452.18181824684143},{"text":"it's it's waiting for something","width":675.1818182468414},{"text":"if i have a condition variable that i set to something and then in that same thread or same process i then went to go","width":475.18181824684143},{"text":"or Â unlock even","width":63.18181824684143},{"text":"you don't need to be as complex as a condition variable","width":184.18181824684143},{"text":"i set a lock to locked","width":198.18181824684143},{"text":"and then i'm moving along and then in that same control thread i say unlock","width":373.18181824684143},{"text":"i'm stuck if nobody else is going to touch that","width":131.18181824684143},{"text":"so i can deadlock myself by not using locks and unlocks correctly","width":432.18181824684143},{"text":"so there's also something called livelock","width":283.18181824684143},{"text":"can i have a volunteer come up here for a second","width":262.18181824684143},{"text":"just a simple. i'm not going to hurt anybody i promise. just stand right here for a second, come on","width":620.1818182468414},{"text":"people in the front","width":93.18181824684143},{"text":"i'm going to give you an example","width":110.18181824684143},{"text":"ok","width":149.18181824684143},{"text":"first we're going to be the zacks","width":202.18181824684143},{"text":"stand there","width":64.18181824684143},{"text":"ok","width":76.18181824684143},{"text":"we can't go anywhere","width":73.18181824684143},{"text":"ok but now he's going to be really nice and say ok i'm going to move to the side so you can move to the side","width":433.18181824684143},{"text":"ok","width":59.18181824684143},{"text":"try again","width":170.18181824684143},{"text":"one more time","width":58.18181824684143},{"text":"ok you can go back to your seat","width":86.18181824684143},{"text":"that's called livelock","width":93.18181824684143},{"text":"did we  get anywhere?","width":122.18181824684143},{"text":"no","width":52.18181824684143},{"text":"but we're standing there","width":53.18181824684143},{"text":"you ever done that in the hallway where you just go back in forth in front of somebody?","width":311.18181824684143},{"text":"that's exaclty what livelock is","width":92.18181824684143},{"text":"we were moving","width":90.18181824684143},{"text":"we were potentially making progress","width":140.18181824684143},{"text":"potentially doing something","width":128.18181824684143},{"text":"but we were not making any progress","width":85.18181824684143},{"text":"and we never got past where we wanted to be","width":155.18181824684143},{"text":"so in terms of processes we're going to see that processes can sometimes try to avoid deadlock ","width":521.1818182468414},{"text":"by essentially","width":95.18181824684143},{"text":"he was trying to avoid deadlock by saying ok \"i'm going to be good and say you can have the spot\" so they're releasiing a resource","width":609.1818182468414},{"text":"but then i say no i want another one","width":126.18181824684143},{"text":"so whatever algorthms you design to try to avoid deadlock could create this livelock situation","width":459.18181824684143}]