[{"text":"there we go","width":86},{"text":"we've also go the information we need inside here to actually create the socket","width":256},{"text":"so if you expect you'll get address info to return maybe an IP6 ","width":382},{"text":"maybe multiple kinds of different sockets","width":157},{"text":"then you'd be pulling that information out of that linkedlist each time","width":277},{"text":"so we've called socket and then we would try","width":441},{"text":"to connect to that remote host","width":275},{"text":"and let's say we've successfully got a connection","width":176},{"text":"hey great we're now talking to that machine","width":243},{"text":"right so this connect call is heavy it's big it's slow ","width":310},{"text":"it actually goes out there and connects","width":149},{"text":"it doesn't just like \"oh, connect please\" it's \"no make contact\"","width":238},{"text":"send some packets to and from that machine","width":267},{"text":"so connect might take a second or more to complete","width":212},{"text":"might take a minute","width":131},{"text":"if you're remote server you're trying to connect to is a long way away","width":303},{"text":"so this is potentially very very slow","width":213},{"text":"how quickly you can talk to the remote machine","width":364},{"text":"if you're trying to talk to yourself that should be pretty fast","width":323},{"text":"so you could talk to yourself very quickly and discover if you can connect to a particular port","width":491},{"text":"there's one thing we didn't talk about yet","width":177},{"text":"and that is ","width":288},{"text":"this magic call called bind","width":299},{"text":"so usually we don't like to be bound up","width":340},{"text":"but today we're going to be calling bind on our socket","width":250},{"text":"we're going to take our socket and we're going to bind it to a particular local port","width":494},{"text":"we're gonna say \"hey! use this local port\"","width":258},{"text":"now most of the time when you want to connect to a remote server","width":124},{"text":"you don't care where your packets leave from","width":170},{"text":"you don't care which port is used locally","width":213},{"text":"just let the operating system let the kernel choose the outgoing port","width":368},{"text":"but when we want to make a server typically we do care","width":150},{"text":"if I'm going to make a webserver I want it to be on port 80","width":457},{"text":"so we can use bind if we want to set the ","width":561},{"text":"local port","width":507},{"text":"you could also use it if you've got say two network cards","width":200},{"text":"and you want to specifically use a particular network card","width":592},{"text":"but it controls the local side of the connection","width":1433},{"text":"","width":2},{"text":"which is exactly what we're going to need when we make a server","width":649},{"text":"","width":1},{"text":"so if i tried to connect to your cellphone right now on a particular port","width":545},{"text":"i'd probably discover that it's not listening on that particular port that I was connect to","width":247},{"text":"connect would return back and say haha I'm sorry I've failed","width":215},{"text":"I've managed to send a packet and it said nothing ","width":193},{"text":"i didn't get anything back","width":91},{"text":"for your cellphone","width":54},{"text":"so connect fails","width":178},{"text":"what we ought to do in the server is the opposite","width":305},{"text":"we want to sit here and wait for people to come to us","width":275},{"text":"wait for packets to come to us","width":107},{"text":"wait for packets to come to our port","width":158},{"text":"what we want then is a passive connection","width":207},{"text":"not something that goes out and tries to connect","width":140},{"text":"but just sits there and says huh no let us the packets come to us","width":349},{"text":"we can do this","width":119},{"text":"and it's very very easy","width":272},{"text":"alright so a passive socket level one understanding is just hey it waits for connections to connect to it","width":623},{"text":"it's sitting on the key side of the particular port saying okay I'm on port 80 send your packets to me I'm ready","width":413},{"text":"and when they do I'm going to do something special","width":151},{"text":"right so what's a passive socket ","width":121},{"text":"first of all it's a socket that is listening ","width":254},{"text":"it's also known sometimes as a server socket","width":414},{"text":"because we use it for serving we just it for waiting for connections","width":358},{"text":"so it's passive in the sense that it's waiting for connections","width":705},{"text":"and it has a cute little trick","width":610},{"text":"","width":1},{"text":"lets say I'm the client, you're the server","width":182},{"text":"can you catch?","width":252},{"text":"let's say you're the server","width":78},{"text":"right there you go","width":307},{"text":"that ladies and gentlemen is a dropped packet","width":338},{"text":"alright here","width":237},{"text":"that server wasn't listening","width":588},{"text":"okay fantastic right","width":130},{"text":"so I've sent my-k-I've just connected to the server","width":339},{"text":"on the passive socket","width":63},{"text":"now here's what the passive socket does","width":197},{"text":"when it returns the connection, when it does the handshake back to me","width":446},{"text":"thank you","width":167},{"text":"it sends an additional piece of information which is","width":183},{"text":"don't talk to me, don't talk to that port anymore","width":199},{"text":"I've got a new port set up just there","width":321},{"text":"that is the special connection that is just between you and me","width":417},{"text":"so we'll see that in a moment on the C side as well ","width":127},{"text":"we'll see that on the seaside, I like that","width":110},{"text":"so we'll see that in terms an additional file descriptor","width":263},{"text":"that's part of that handshaking","width":139},{"text":"once we make the connection on the server side,","width":124},{"text":"no no we have a completely different port just for that one connection","width":347},{"text":"why do we do that?","width":60},{"text":"well guess what we're making a server","width":135},{"text":"we're trying to take over the world or whatever","width":120},{"text":"and other people might be connecting to port 80","width":210},{"text":"as soon as they do that they're going to be talking to you again","width":195},{"text":"so in order to keep all these connections separated","width":227},{"text":"we push them onto different ports","width":284},{"text":"alright so the time you actually spend talking to this particular port is minimal","width":330},{"text":"okay so why do we create one","width":181},{"text":"so we can have a server","width":529},{"text":"I want to make a server","width":231},{"text":"right so how do i do all this","width":199},{"text":"have I put this in yet no","width":86},{"text":"so here's what we should do ","width":136},{"text":"in our hints struct","width":389},{"text":"we're going to specify one more thing","width":209},{"text":"let's go back to here","width":62},{"text":"something we haven't used yet is this flags","width":808},{"text":"and there's a flag to say","width":181},{"text":"hey make a passive socket for me please","width":517},{"text":"trying to think if it's yeah must be uppercase right","width":646},{"text":"so before making your get address info call, just say oh, by the way, I would like a passive socket","width":576},{"text":"by the way i would like a passive socket","width":256}]