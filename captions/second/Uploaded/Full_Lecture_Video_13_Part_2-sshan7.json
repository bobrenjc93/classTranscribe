[{"text":"uhhh","width":489},{"text":"and that's going to equal my data","width":285},{"text":"sub out","width":31},{"text":"i gotta increment my out too","width":111},{"text":"plus plus","width":180},{"text":"++","width":3},{"text":"and then i can return","width":353},{"text":"result","width":326},{"text":"so there's my solution","width":200},{"text":"very basic solution","width":163},{"text":"you guys take one or two minutes talk to your neighbors figure out what's wrong with this and how you would fix it","width":5925},{"text":"are you ready?","width":201},{"text":"ok what's the first thing wrong with this?","width":249},{"text":"or what's something wrong with this?","width":224},{"text":"i'm not checking what?","width":157},{"text":"i'm not checking the equality of in and out","width":140},{"text":"why do in and out have to be equal?","width":265},{"text":"oh i don't want to be equal","width":66},{"text":"whats going to happen if i do that?","width":269},{"text":"yeah i'm going to try to remove data that's not there if they are equal","width":225},{"text":"what else aren't i doing?","width":497},{"text":"if not if ","width":172},{"text":"so if in equals 16 or more ","width":167},{"text":"it's not that i'm overflowing, ","width":60},{"text":"what am i doing?","width":150},{"text":"i'm overwriting what","width":232},{"text":"no what happens if in == 16?","width":517},{"text":"so what's going to happen if in == 16?","width":185},{"text":"not the answer","width":154},{"text":"how big is my buffer?","width":152},{"text":"yeah, well 16","width":85},{"text":"0 to 15","width":52},{"text":"if i write","width":107},{"text":"data[16] i am going to smash somebody's memory","width":259},{"text":"so not good","width":101},{"text":"so the solution was to what","width":203},{"text":"mod","width":74},{"text":"what else could i do?","width":160},{"text":"ok so i could mod, wait wait let me write that down","width":192},{"text":"i'm going to mod it","width":330},{"text":"so what if i do","width":53},{"text":"i'm going to change this","width":153},{"text":"to say","width":120},{"text":"uh","width":344},{"text":"data[(in++) % 16]","width":781},{"text":"","width":3},{"text":"is that going to work?","width":916},{"text":"ok don't worry about the overwriting for a second","width":124},{"text":"is this going to help with my wrapping?","width":279},{"text":"is this a good solution to fixing my wrapping?","width":313},{"text":"there's one minor problem which is not so minor about this","width":196},{"text":"it'll work","width":112},{"text":"yeah","width":555},{"text":"it's going to work for a while","width":199},{"text":"and after a while what's going to happen?","width":303},{"text":"my integer's going to overflow","width":83},{"text":"actually my integer is not going to overflow","width":108},{"text":"it's just going to go negative","width":159},{"text":"and mod , if i understand correctly, can preserve the negative value","width":454},{"text":"so you're now going to get a data sub minus something","width":235},{"text":"accessing bad data ","width":127},{"text":"or just crashing","width":112},{"text":"i don't even know what the system's going to do if you put a negative value in your array","width":398},{"text":"so not the ","width":118},{"text":"it's the right idea","width":104},{"text":"you could actually be must simpler and just say","width":932},{"text":"ok","width":96},{"text":"that works too","width":142},{"text":"when i'm done","width":103},{"text":"so don't do this","width":647},{"text":"you could also if you really wanted to say n = n mod 16","width":250},{"text":"that'll work too","width":112},{"text":"but that's not even that necesasry","width":133},{"text":"you only  have to change it if it is 16","width":439},{"text":"and i have to do the same for what?","width":154},{"text":"","width":0},{"text":"for out","width":65},{"text":"so not going to write that but i have to do the same for out","width":656},{"text":"so","width":195},{"text":"we've already hit on a bunch of problems that has to do with this. and the problem is all the overwriting and","width":511},{"text":"that uh we're not being careful about wha'ts going on","width":213},{"text":"and really the challenge here is there's no synchronization","width":303},{"text":"","width":2},{"text":"i'm not synchrnoizing my readers and writers","width":444},{"text":"reader writer producer consumer enqueue dequeue","width":205},{"text":"all of the same idea basically","width":136},{"text":"what if i call enqueue twice at the same time","width":284},{"text":"is there any safety there?","width":110},{"text":"","width":2},{"text":"no","width":34},{"text":"what if i call enqeueu and dequeue at the same time","width":183},{"text":"is there any safety there?","width":100},{"text":"no","width":43},{"text":"so let's assume that ","width":218},{"text":"we use this code","width":146},{"text":"for the actual functionality for the enqueue and dequeue","width":245},{"text":"and let's add some synchronization to it so that we can protect the data from overflow","width":417},{"text":"from underflow","width":104},{"text":"and from the synchronization problem of two nodes trying to put something in the qeueue at the same time and overwriting each other","width":575},{"text":"so we have to be careful we have to make sure that ","width":220},{"text":"only one node ony one enqueue can write into the ring buffer at the same time","width":488},{"text":"i'm teaching networking this semester so if i say node just ignore me","width":256}]