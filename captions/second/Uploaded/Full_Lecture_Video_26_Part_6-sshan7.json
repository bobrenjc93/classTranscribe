[{"text":"In the beginning","width":222},{"text":"Uh TCP could just uh back in the early days","width":217},{"text":"of ARPANET","width":58},{"text":"our sequence numbers could just start from zero","width":212},{"text":"Today however","width":51},{"text":"They don't","width":31},{"text":"Initially when we start the connection we actually start it with a random number","width":431},{"text":"So we have a 32bit random number which is our initial sequence number","width":581},{"text":"Why do you think that might be?","width":417},{"text":"Security","width":102},{"text":"Otherwise somebody could send some data to whoever we're talking to","width":365},{"text":"And if they chose the sequence number correctly","width":230},{"text":"They could insert some data into our stream","width":223},{"text":"By making it harder to guess what sequence number we're on we can make our approach a little bit more robust","width":809},{"text":"So it uh it's random","width":467},{"text":"Now with each packet we send","width":214},{"text":"There's various flags we can set","width":152},{"text":"This is not a networking class","width":83},{"text":"So we're not going to go into detail with what these mean","width":198},{"text":"But we will mention this","width":288},{"text":"That packets can be labelled with these little flags","width":402},{"text":"And the first packet you send has this little label that says the SYN-ful packet","width":493},{"text":"","width":2},{"text":"And the receiver, the server, says THANK you! I acknowledge your SYN-ful ness.","width":320},{"text":"Yes","width":526},{"text":"Right so imagine you had a jigsaw puzzle","width":164},{"text":"A 1 dimensional jigsaw puzzle","width":163},{"text":"Much easier than a 2 dimensional jigsaw puzzle","width":173},{"text":"And each piece arrives with a sequence number","width":256},{"text":"This makes it really easy to put together","width":177},{"text":"That's the purpose of the sequence number","width":191},{"text":"if they arrive out of order, if you have any missing pieces","width":141},{"text":"You actually know where to put it inside your data stream","width":165},{"text":"You might get - a quick question","width":279},{"text":"It'll lap around","width":652},{"text":"Oh yes","width":89},{"text":"You couldn't send more than 4gb in a packet","width":505},{"text":"Yes the sequence number actually represents the data","width":265},{"text":"It's not just a count of the packets","width":277},{"text":"It represents the contents, it represents the data stream","width":299},{"text":"And what the bytes that you've put inside the packet where they should be fitted into inside the stream","width":828},{"text":"Right so you might have a packet that says","width":220},{"text":"OKAY","width":31},{"text":"I'm sequence 10 here's my data blah blah blah","width":273},{"text":"And there's another packet that might before or after that says I'm sequence number 20 and here's my data blah blah blah","width":498},{"text":"And the operating system says thank you very much","width":174},{"text":"I can see that the data stream that I should give back to my process should have the blue data first and the black data after  it","width":476},{"text":"So I might be able to reassemble the data back into a stream of data to send to the program","width":569},{"text":"No there's no limit","width":101},{"text":"Talk to me afterwards","width":66},{"text":"These numbers can lap around","width":277},{"text":"This is just a long stream","width":121},{"text":"And uh data was arriving from here in packets","width":127},{"text":"And the user is calling read so we're giving the data as the user process wants it","width":347},{"text":"But these numbers can just wrap around","width":141},{"text":"modulo 4gb","width":190},{"text":"Alright so","width":267},{"text":"So this is the connection handshake","width":165},{"text":"That we see between the server and the client","width":335},{"text":"So the client says","width":87},{"text":"HEY I want to connect to you","width":96},{"text":"And here's my SYN-ful number","width":97},{"text":"My sequence number","width":96},{"text":"The server says okay I've ignored your sequence number","width":281},{"text":"Here's mine","width":230},{"text":"So this is the client saying hello","width":276},{"text":"This is the server saying hello back","width":170},{"text":"And this is the client says I acknowledge your sequence number as well","width":307},{"text":"With that third packet we can also include some data","width":290},{"text":"So we'll see that again in the future","width":341},{"text":"And you see these diagrams in network classes where the client tells the server","width":598},{"text":"The server responds","width":98},{"text":"And the client responds again","width":192},{"text":"So we have this three way handshake","width":416},{"text":"But this takes time","width":304},{"text":"","width":2},{"text":"They're governed by the speed of light*?","width":107},{"text":"They're governed by the hardware","width":109},{"text":"They're governed by the routers in the way","width":103},{"text":"YES","width":31},{"text":"Quick question","width":732},{"text":"Okay so","width":150},{"text":"The server and client nomenclature, those words, are really only important for the initiation of the connection","width":451},{"text":"After that both sides can play","width":247},{"text":"Both sides have sequence numbers","width":133},{"text":"Both sides send acknowledgement packets","width":114},{"text":"Both sides control congestion","width":67},{"text":"Etc etc etc","width":99},{"text":"There is no longer a kind of master slave relation","width":239},{"text":"Both have equal footing","width":289},{"text":"So we'll finish with this that","width":251},{"text":"So one thing we'll try to prevent again is something called a SYN flood","width":228},{"text":"Which is an attack on TCP","width":143},{"text":"Where we try to send a server a whole load of packets with these synchronization messages","width":588},{"text":"Initiation messages","width":147},{"text":"We walk up and say HEY I'm SYN-ful here's my number","width":241},{"text":"And the server replies back and is now waiting for the response","width":301},{"text":"So it's very cheap to send these","width":160},{"text":"You can just fire a packet","width":83},{"text":"Whereas the server now has to set up a connection","width":171},{"text":"And it's like okay I'm waiting for the handshake","width":311},{"text":"So it's an attempt to do a denial of service on a server","width":318},{"text":"And with that we're out of time","width":91},{"text":"So thank you very much","width":79},{"text":"And I'll see you friday","width":64}]