[{"text":"why did we not find it?","width":465.18181824684143},{"text":"oh because I want to go into... oh","width":593.1818182468414},{"text":"cd cs241","width":312.18181824684143},{"text":"okay good, right, we're in the right place","width":321.18181824684143},{"text":"okay, so we talked about file globbing","width":247.18181824684143},{"text":"and uh, oh yes here's another little useful command","width":378.18181824684143},{"text":"let's have a look at, say the timestamp for mmap","width":523.1818182468414},{"text":"and you'll see I made it this morning at 10:46","width":293.18181824684143},{"text":"yeah, I was busy just before lecture","width":336.18181824684143},{"text":"I can change that timestamp","width":178.18181824684143},{"text":"just by calling touch, so if I say touch, and here's the file","width":381.18181824684143},{"text":"oh I cannot touch it, why?","width":535.1818182468414},{"text":"who owns the file?","width":163.18181824684143},{"text":"root, right, and","width":111.18181824684143},{"text":"only root has read and write permissions","width":138.18181824684143},{"text":"okay, so, let's become root, alright, so I can do sudo, and that will give me root permissions","width":423.18181824684143},{"text":"I'm going to do sudo -s because I want to stay as root","width":419.18181824684143},{"text":"alright, then, let's touch that file","width":128.18181824684143},{"text":"and if we do that","width":611.1818182468414},{"text":"wait we've just updated the timestamp","width":249.18181824684143},{"text":"so why would that be useful with make?","width":723.1818182468414},{"text":"what does make use?","width":287.18181824684143},{"text":"the makefile, yes, and inside of the makefile you write rules","width":233.18181824684143},{"text":"and those rules depend upon the timestamps","width":168.18181824684143},{"text":"it compares the modified time of the executable, or the output of each rule","width":327.18181824684143},{"text":"and all of the sources","width":114.18181824684143},{"text":"so, if we've touched our input file, then we can force make to","width":379.18181824684143},{"text":"remake any executables or libraries that depend upon this file","width":226.18181824684143},{"text":"so useful, for example, if you've just changed your compiler options","width":309.18181824684143},{"text":"say if you wanted to add a debug flag, and rather than, say","width":258.18181824684143},{"text":"doing make clean or manually removing stuff","width":281.18181824684143},{"text":"just simply updating the timestamp is sufficient","width":351.18181824684143},{"text":"by the way, with make, you're not limited to just setting the timestamp at the current time","width":382.18181824684143},{"text":"you could even set it tomorrow, so you could say","width":102.18181824684143},{"text":"\"Hey, look, my homework wasn't done until tomorrow\" or something","width":190.18181824684143},{"text":"so, you could actually modify the other timestamps","width":206.18181824684143},{"text":"but we won't play with that today","width":113.18181824684143},{"text":"but there's just a cute little useful tool sometimes to be able to modify the meta information about the file","width":706.1818182468414},{"text":"let me make a new file, okay, so here's a new empty file","width":514.1818182468414},{"text":"and this file only has the permissions of read and write for root","width":485.18181824684143},{"text":"let me check my umask","width":678.1818182468414},{"text":"that's actually a poor demo, because root is special","width":251.18181824684143},{"text":"I'm going to get out of being root","width":394.18181824684143},{"text":"let's make another one, touch empty","width":303.18181824684143},{"text":"okay so here's a better demo, root is a special case","width":222.18181824684143},{"text":"so when I make a file normally, I have read and write permissions","width":316.18181824684143},{"text":"and so does my group","width":86.18181824684143},{"text":"and everybody else does not have those permissions","width":206.18181824684143},{"text":"why is that? in part it's to do with my umask","width":325.18181824684143},{"text":"where the umask is one of the options that controls","width":236.18181824684143},{"text":"what permissions are taken away from a file","width":320.18181824684143},{"text":"so if I change my umask","width":363.18181824684143},{"text":"to be 777, I can subtract everything from those files","width":308.18181824684143},{"text":"let me make another file now, and look at that","width":354.18181824684143},{"text":"now we haven't got any permission to read this file at all","width":138.18181824684143},{"text":"or write it, or execute","width":81.18181824684143},{"text":"umask is a subtractive operation, it masks out some of the default bits that","width":353.18181824684143},{"text":"we would have otherwise set on the permissions of each file","width":263.18181824684143},{"text":"it's not the only thing that controls the default permissions of new files","width":250.18181824684143},{"text":"but it is part of your process","width":179.18181824684143},{"text":"so I'm playing with this inside of the shell","width":163.18181824684143},{"text":"but we could also do this inside of a C program aswell","width":203.18181824684143},{"text":"and so if you want to securely create a set of files","width":421.18181824684143},{"text":"where you don't want anyone to be able to, say, read them","width":221.18181824684143},{"text":"or you're going to create a lot of files then","width":191.18181824684143},{"text":"setting umask first is a good security operation","width":230.18181824684143},{"text":"you're subtracting the bits that you don't want set so","width":323.18181824684143},{"text":"in this case I said \"hey, take everything off, we don't want read or write or anything\"","width":255.18181824684143},{"text":"if I had said umask, let's do 600","width":827.1818182468414},{"text":"what have I done now?","width":73.18181824684143},{"text":"I've taken my own bits off","width":63.18181824684143},{"text":"6, my read and write aren't there, m","width":211.18181824684143},{"text":"but I've let through the group and the world access rights","width":496.18181824684143},{"text":"so what's a typical umask? a typical umask is 022","width":339.18181824684143},{"text":"that's a typical default value. What does that do? What does that subtract?","width":531.1818182468414},{"text":"remember we're thinking in octal, so each one of these values","width":247.18181824684143},{"text":"remember, is read write execute combined into an octal number","width":336.18181824684143},{"text":"so for ourselves we're subtracting nothing, but what about the group and others?","width":373.18181824684143},{"text":"we're subtracting write","width":111.18181824684143},{"text":"we don't want anyone to write our files by, anyone else to write our files","width":595.1818182468414},{"text":"if you actually read the manpage of write and other things you'll actually find references to umask","width":346.18181824684143},{"text":"so here's one other piece that controls the creation of files","width":241.18181824684143},{"text":"it does not effect existing files, it's only during the creation of new files and new directories","width":574.1818182468414},{"text":"it also creates, effects directories","width":168.18181824684143},{"text":"so let's play with this","width":178.18181824684143},{"text":"I will make a new directory","width":345.18181824684143},{"text":"So let's turn everything off (evil laughter)","width":199.18181824684143},{"text":"and I'll make a subdirectory","width":318.18181824684143},{"text":"and I will try to make inside subdir1","width":273.18181824684143},{"text":"another file, so mydata.txt","width":513.1818182468414},{"text":"oh, I get permission denied, I cannot write into the contents of this directory","width":358.18181824684143},{"text":"why not? because we took the execute bit","width":270.18181824684143},{"text":"off the directory, so here's something a little strange","width":236.18181824684143},{"text":"the execute bit for a directory means, can I actually see the contents of the directory","width":429.18181824684143},{"text":"not the name of the directory, because that's not part of the actual directory","width":231.18181824684143},{"text":"but the name of the directory is back inside of the closing directory, in the parent directory","width":364.18181824684143},{"text":"it's can I actually open the directory and look inside and see what files are stored there","width":339.18181824684143},{"text":"so I couldn't go into subdir1","width":222.18181824684143},{"text":"and in fact if I tried to list the contents of subdir1","width":304.18181824684143},{"text":"I get \"No! you can't open that directory!\"","width":123.18181824684143},{"text":"because it's not executable","width":138.18181824684143}]