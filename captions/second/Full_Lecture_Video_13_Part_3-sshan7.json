[{"text":"gets in your brain Ok","width":151},{"text":"Solution No2","width":270},{"text":"Get that up there","width":102},{"text":"Okay!!","width":129},{"text":"I'm gonna tell you what we've got here. we've added semphores and locks","width":729},{"text":"I have two sempahores, S1 and S2","width":256},{"text":"S1 represents my spaces","width":312},{"text":"in my ring buffer","width":164},{"text":"and S2 represents the number of items the i've put in my ring buffer","width":428},{"text":"if you think about it","width":94},{"text":"If i have space, i can put things in it","width":142},{"text":"if i have items in my queue i can take things out. so, that's good. I can go initialize them and move on. so now, you guys have done semaphores, right?","width":887},{"text":"what happens to a semaphore when you do sem_wait?","width":304},{"text":"","width":2},{"text":"What does it do to the value of the sempahore","width":622},{"text":"oh did you guys talk about counting semphores?","width":232},{"text":"YEAH!!!","width":55},{"text":"if you noticed that we initialized one of these to 16 and one of these to 0","width":225},{"text":"these are counting semphores","width":108},{"text":"not just mutexes","width":146},{"text":"counting semaphores","width":90},{"text":"if i initalized it to 16, what can i do","width":245},{"text":"i can call sem_wait ","width":105},{"text":"how many times?","width":101},{"text":"15 ","width":44},{"text":"and I can call sem_post ","width":141},{"text":"if i'm starting sem_pos 16 times.","width":227},{"text":"so what it's doing is it's giving me this ability to call sem_wait, m_queue 16 times","width":396},{"text":"or dequeue 16 items","width":127},{"text":"in and of itself that's not enough to make sure I don't break my system, but that's gonna be my counters to help me decide","width":374},{"text":"how many items i have, and how many spaces i have","width":223},{"text":"So my sem_wait on this one is gonna try to decrement ","width":464},{"text":"and sem_post, increment","width":360},{"text":"sem_wait increment","width":333},{"text":"Sorry","width":64},{"text":"backwards","width":113},{"text":"decrements","width":120},{"text":"sem_post","width":126},{"text":"increments","width":195},{"text":"so take a minute and look at this, and I can tell you this doesn't work","width":442},{"text":"maybe you can tell me why. Talk to you neighbors","width":1567},{"text":"say that one more time","width":466},{"text":"Yes","width":275},{"text":"So i have initialized it to 0 but my max is 16","width":634},{"text":"s2, i've initialized it to 0 with a max of 0","width":778},{"text":"Let me double check the actual interface of Sem_wait while you're looking at this","width":3355},{"text":"Sorry, i take that back. Ignore the first zero","width":288},{"text":"so, S1 is the semaphore, the zero is just whether or not it's shared across processes","width":488},{"text":"S1 is initalized to 16 and S2 to 0","width":4536},{"text":"Obviously I should not be writing code to make airplanes fly because they're going to fall out of the sky [something]. What's wrong?","width":696},{"text":"Yeah?","width":476},{"text":"so we're calling sem_wait and sem_post on the same sempahore","width":594},{"text":"my values are gonna change","width":337},{"text":"i'm gonna decrement and increment it right away","width":194},{"text":"and, how is that gonna implement my, how is that going to affect, write my dequeue","width":698},{"text":"yeah?","width":498},{"text":"so i'm going to call sem_wait on s1, which initialized to 16, that's good I have 16 spaces","width":484},{"text":"I'm gonna put something in. I'm gonno do sem_post and that's gonna increment it, and im gonna be forever be able to put things in","width":576}]