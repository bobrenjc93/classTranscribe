[{"text":"right so yeah learning is hard I'm sorry if I knew a way to do the matrix for instance I know how to do systems programming, that would be fantastic but we can't do that just yet","width":602},{"text":"right so let's have a look at one of these problems today and this will actually help with the rest of the homework","width":411},{"text":"which is perhaps you can do this, I'll give you the answer in a moment, perhaps you should be able to do this, this is actually based on a final exam question","width":477},{"text":"remember the bitwise operators? these are not the logical operators, these are bitwise operators so we can use ampersand & for masking for example this is or | left << and right shift >>","width":708},{"text":"or right shift and left shift","width":107},{"text":"and so we want to use these to write some pseudocode as to how the hardware works right? can we actually write some C like code that would convert a pointer","width":595},{"text":"here it is here's my little pointer to one byte","width":164},{"text":"and determine the page number and the offset","width":249},{"text":"right so this shouldn't be too hard if you know your bitwise operators","width":277},{"text":"I'll give you just 30 seconds for you and your neighbor to have a go","width":235},{"text":"[silence]","width":5088},{"text":"okay so here's the plan, we think of our virtual memory address in terms of two halves","width":317},{"text":"the lower bits will be our offset and we're just going to ignore those for a moment","width":251},{"text":"they'll come back to play at the very end when we add them back in","width":205},{"text":"and we've got a page number as well so the upper bits are our page number","width":299},{"text":"right so we can use our bitwise operators to extract this from our single pointer","width":382},{"text":"for the offset we want to write a mask so that we only see the lowest bits","width":346},{"text":"so we're going to say pointer","width":246},{"text":"& and now I want something that represents the twelve lowest bits, in other words if I was writing in binary it'd be 1 2 3 4 1 2 3 4 1 2 3 4","width":734},{"text":"so that would be my binary representations and all the upper bits would be zero","width":288},{"text":"right can I convert that into hexadecimal","width":449},{"text":"remember hexadecimal each hexdigit corresponds to four bits right?","width":311},{"text":"so we should and it with 0xfff","width":786},{"text":"and the upper bits of this number are all zeroes","width":550},{"text":"right what about the page number?","width":179},{"text":"I want to take these bits and shift them to the right twelve times","width":391},{"text":"well I could divide by four thousand ninety six","width":267},{"text":"but instead why don't we just shift","width":418},{"text":"there we go so now I've got my page number","width":270},{"text":"if my hardware implemented a single level page table","width":290},{"text":"I could then use this to look up an entry inside that single level page table","width":262},{"text":"that would give me what?","width":201},{"text":"what's it called?","width":325},{"text":"what do we get when we look inside the page table?","width":182},{"text":"the frame! yes the physical frame","width":218},{"text":"so if I still use this, look it up inside the page table, I get a physical frame","width":323},{"text":"if I take that frame, I can now combine it with the offset to give me the actual address","width":442},{"text":"so the final address..","width":337},{"text":"would be...","width":167},{"text":"take the frame shift it...","width":286},{"text":"left by twelve, put it into the right place","width":282},{"text":"and or it or add in the offset","width":525},{"text":"and that would give me the actual RAM address, the actual piece of RAM that I want to read or write to","width":498},{"text":"of course we're writing C code, my assumption is that our hardware engineers are not writing C code, they are probably writing verilog or vhdl or some other lower level hardware language","width":734},{"text":"alright so let's see if you can play with page tables then for this little example","width":397},{"text":"here's a virtual address","width":256},{"text":"this time I've got eight bit pages, they're tiny, and the following page table","width":343},{"text":"so using this, what is the physical address associated with this virtual address?","width":442},{"text":"so we're going to have to take this address and cleave it into a page number and a offset","width":468},{"text":"[silence]","width":1259},{"text":"and the answer is...","width":173},{"text":"it's a trick question, you can't answer it yes? because...","width":254},{"text":"where's the offset going to be? the offset is going to be the lowest eight bits","width":356},{"text":"so the upper hexadecimal digits are your page numbers","width":318},{"text":"and I didn't give you...","width":227},{"text":"enough entries of this table, its somewhere off here","width":376},{"text":"so I didn't actually give you this particular entry","width":256},{"text":"right so let me stencil it in, so somewhere deep, much lower in the page table, there happens to be entry number 010203","width":608},{"text":"and if we were to look up there and we found an address like...","width":545},{"text":"BAAD","width":299},{"text":"now you can tell me the actual physical address, I've got to take this and combine it with the original offset","width":453},{"text":"so in other words, the final address will be BAAD04","width":616},{"text":"would be our physical address","width":160}]