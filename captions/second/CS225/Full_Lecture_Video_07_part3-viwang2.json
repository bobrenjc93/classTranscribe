[{"text":" Sort of, what does that ampersand mean in that case?","width":192},{"text":"By reference, that's right. So our intention is to return a student by reference.","width":768},{"text":"Ok? And we'll trace what that means here.","width":576},{"text":"Ok, so the setup in this case -- here's C, cat, squiggly, false","width":768},{"text":"Here's D, ok? It's not initialized, we haven't taken great pains to initialize it","width":384},{"text":"When we call the function, C goes in as the parameter, S becomes a copy of it on the stack","width":640},{"text":"We create a new one, W, becomes a copy of that, also on the stack","width":640},{"text":"Ok, any questions so far?","width":128},{"text":"We mess around with W, we mess around with W","width":704},{"text":"And then we return it by reference","width":256},{"text":"First of all, first question: is there a type mismatch?","width":256},{"text":"Oh, it looks like there is, doesn't it? Is there a type mismatch?","width":576},{"text":"The answer is no, it looks like there is, but that ampersand in that context does not mean memory address","width":832},{"text":" ...mostly. Ok? It doesn't mean pointer, it means a reference","width":640},{"text":"What's the difference?","width":128},{"text":"The difference is that behind the scenes, pointers are being passed around.","width":512},{"text":"But here, in the code, you can refer to everything by its student value, the dereferencing that happens is all done automatically for you","width":576},{"text":"And in fact, you probably shouldn't even think about it as a pointer, just think about it as a student.","width":384},{"text":"Now, what happens in this case?","width":192},{"text":"W is passed back by reference and this thing right here, the return value of this, the right hand side of this assignment statement,","width":896},{"text":"becomes essentially another name for W. So this is now the right hand side token, whatever the system decides to use for the return value of that token","width":896},{"text":"Right here, this is another name for W. Ok?","width":384},{"text":"And then, we do an assignment statement, we assign that to D. Do you like it?","width":576},{"text":"Raise your hand if you like it, or if you see no reason not to.","width":512},{"text":"Raise your hand if you can't stand it, if you detest it","width":384},{"text":"Raise your hand if you're somewhere in the middle","width":256},{"text":"Ok, good. Why do you detest it?","width":192},{"text":"Ok, so you think that we're wasting time there, right? Ok, so I hate it too but not for that reason, ok?","width":1088},{"text":"Here's why - you wanna say why you hate it?","width":512},{"text":"Exactly, that's exactly right, so the comment was, it seems like it goes away and yet we're relying on it, so look","width":704},{"text":"The assignment statement relies on something for its right-hand side, but the minute control is passed back so that the assignment statement is the next thing, ","width":832},{"text":"is, this is gone, so that right hand side gets obliterated effectively, effectively is gone the minute the return statement is made which means that right hand side has nothing on it","width":768},{"text":"to use. Right hand side is nothing, it's certainly invalid. ","width":448},{"text":"Ok, any question about that?","width":192},{"text":"So what have we done wrong here?","width":192},{"text":"Can you describe what we have done wrong? I'll give you a hint.","width":576},{"text":"Ok, so the error here is that we've returned a local variable by reference, and that's forbidden.","width":896},{"text":"Because it creates an invalid right hand side in this case.","width":640},{"text":"Ok, so our error...","width":896}]