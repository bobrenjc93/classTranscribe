[{"text":"Ok so, let's get back up here","width":303},{"text":"We said that uh, we don't care about file names","width":231},{"text":"The inode is the file","width":298},{"text":"Is the big idea.","width":115},{"text":"Okay","width":715},{"text":"Okay right","width":117},{"text":"That's the big idea, great! ","width":64},{"text":"So what we're going to do to all going to talk about it after the rest of the lecture","width":138},{"text":"Okay so we've got a problem then, if that's the big idea, how are we going organize things into directories","width":341},{"text":"How are we actually going to give things names if we're saying their names is not actually part of the file","width":368},{"text":"Well, all we're going to say then is the name is actually part of a directory listing.","width":587},{"text":"So, a directory then will have","width":275},{"text":"A listing, and the listing will be","width":245},{"text":"A name","width":113},{"text":"And","width":149},{"text":"An inode number","width":109},{"text":"A name, and an inode number. etc etc etc etc","width":755},{"text":"In fact, we can think of a directory as just a file","width":343},{"text":"We'll bless it, we'll set a particular binding flag to say this isn't actually a user file,","width":368},{"text":"it's actually part of the file system","width":110},{"text":"And uh we'll need to read the contents and expect the bytes to mean the following","width":345},{"text":"The name followed by an inode number. The name followed by an inode number","width":369},{"text":"So that's all the a directory listing is","width":253},{"text":"Name followed by inode number","width":150},{"text":"And these, inodes then might correspond to one of our files","width":249},{"text":"but it might correspond to another subdirectory.","width":484},{"text":"Right so here's the big ideas we've had so far right","width":201},{"text":"Files don't have names.","width":152},{"text":"Directories have, a little map from a name to an inode number.","width":330},{"text":"And directories themselves are just files. They have data.","width":304},{"text":"What is it a data? This little mapping.","width":333},{"text":"So they'll have a data block with this kind of mapping.","width":218},{"text":"The good news is that we don't actually need to read these bytes.","width":227},{"text":"We've got some posix calls which we'll see in a moment","width":156},{"text":"Which actually interprets these bytes for us","width":197},{"text":"But what we'll be doing is opening these these directories just using a regular file descriptor","width":362},{"text":"And then we could call this posix call to actually weed out um the ","width":379},{"text":"the data as if its uh a certain ballistics","width":342},{"text":"Right","width":56},{"text":"Questions so far?","width":286},{"text":"Yesssss","width":374},{"text":"Yes so, every directory is gonna have two ","width":361},{"text":"special entries which um doesn't uhh the first one dot dot","width":418},{"text":"which is the um","width":186},{"text":"what","width":106},{"text":"parent directory, yes, how do you get out of here. I wanna go back up. right","width":341},{"text":"Anddd also, we don't need to store this one directly but we'll come across it in a little bit","width":367},{"text":"Ummm","width":58},{"text":"In current directory dot","width":94},{"text":"So we don't necessarily need to keep that inside the uh","width":303},{"text":"inside the the data but mainly the posix core will always see it. It's like uh","width":276},{"text":"Yes I can talk about myself","width":140},{"text":"So, each directory knows about itself and it knows about  uh it's it's parent.","width":323},{"text":"A directory can only have one parent so we're talking about a tree","width":554},{"text":"Other questions?","width":268},{"text":"Okie dokie. Then let's","width":1419},{"text":"Okay","width":306},{"text":"Alright so let's um","width":279},{"text":"Let's uhhh put some contents into a file","width":231},{"text":"Okay, my text","width":323},{"text":"Hellooooo","width":136},{"text":"I am a cat","width":141},{"text":"Alright","width":108},{"text":"And ctrl D to save. finished","width":151},{"text":"Great so normally we do kind of","width":120},{"text":"ls to see what's in here um","width":365},{"text":"Ok","width":61},{"text":"Umm","width":92},{"text":"But I can do more than that, I can say give me the inode numbers","width":519},{"text":"Here we go","width":155},{"text":"Uhh in fact, one of the options for ls is just to say give me it on one per line","width":250},{"text":"So now, yeah, I can, you can believe hopefully that every file","width":295},{"text":"Really is just an inode number, so if you're talking about a directory name or file name","width":264},{"text":"you're not, you're actually that's just gonna be converted into an inode number","width":427},{"text":"If i wanted to make another directory so hey I'm a subdir","width":485},{"text":"That subdirectory has what? a unique inode number","width":269},{"text":"So one way to tell whether you're truly are talking about the same file. you and me","width":290},{"text":"is to see if we are uh talking about the same inode number on a particular file system","width":672},{"text":"Alright so I lost my","width":733},{"text":"I seem to lost the projector, okay alright","width":704}]