[{"text":"In the beginning","width":192},{"text":"Uh TCP could just uh back in the early days","width":384},{"text":"of ARPANET","width":64},{"text":"our sequence numbers could just start from zero","width":128},{"text":"Today however","width":128},{"text":"They don't","width":64},{"text":"Initially when we start the connection we actually start it with a random number","width":512},{"text":"So we have a 32bit random number which is our initial sequence number","width":448},{"text":"Why do you think that might be?","width":128},{"text":"Security","width":320},{"text":"Otherwise somebody could send some data to whoever we're talking to","width":576},{"text":"And if they chose the sequence number correctly","width":256},{"text":"They could insert some data into our stream","width":128},{"text":"By making it harder to guess what sequence number we're on we can make our approach a little bit more robust","width":512},{"text":"So it uh it's random","width":512},{"text":"Now with each packet we send","width":384},{"text":"There's various flags we can set","width":128},{"text":"This is not a networking class","width":128},{"text":"So we're not going to go into detail with what these mean","width":320},{"text":"But we will mention this","width":128},{"text":"That packets can be labelled with these little flags","width":448},{"text":"And the first packet you send has this little label that says the SYN-ful packet","width":384},{"text":"it's the SYN-ful*","width":320},{"text":"And the receiver, the server, says THANK you! I acknowledge your SYN-ful ness.","width":512},{"text":"Yes","width":64},{"text":"Right so imagine you had a jigsaw puzzle","width":640},{"text":"A 1 dimensional jigsaw puzzle","width":256},{"text":"Much easier than a 2 dimensional jigsaw puzzle","width":320},{"text":"And each piece arrives with a sequence number","width":128},{"text":"This makes it really easy to put together","width":256},{"text":"That's the purpose of the sequence number","width":128},{"text":"if they arrive out of order, if you have any missing pieces","width":64},{"text":"You actually know where to put it inside your data stream","width":256},{"text":"You might get - a quick question","width":320},{"text":"It'll lap around","width":128},{"text":"Oh yes","width":512},{"text":"You couldn't send more than 4gb in a packet","width":192},{"text":"Yes the sequence number actually represents the daya","width":832},{"text":"It's not just a count of the packets","width":128},{"text":"It represents the contents, it represents the data stream","width":320},{"text":"And what the bytes that you've put inside the packet where they should be fitted into inside the stream","width":384},{"text":"Right so you might have a packet that says","width":640},{"text":"OKAY","width":64},{"text":"I'm sequence 10 here's my data blah blah blah","width":448},{"text":"And there's another packet that might before or after that says I'm sequence number 20 and here's my data blah blah blah","width":384},{"text":"And the operating system says thank you very much","width":256},{"text":"I can see that the data stream that I should give back to my process should have the blue data first and the black data after  it","width":448},{"text":"So I might be able to reassemble the data back into a stream of data to send to the program","width":192},{"text":"No there's no limit","width":320},{"text":"Talk to me afterwards","width":192},{"text":"These numbers can lap around","width":192},{"text":"This is just a long stream","width":256},{"text":"And uh data was arriving from here in packets","width":64},{"text":"And the user is calling read so we're giving the data as the user process wants it","width":320},{"text":"But these numbers can just wrap around","width":64},{"text":"modulo 4gb","width":256},{"text":"Alright so","width":128},{"text":"So this is the connection handshake","width":512},{"text":"That we see between the server and the client","width":256},{"text":"So the client says","width":128},{"text":"HEY I want to connect to you","width":320},{"text":"And here's my SYN-ful number","width":64},{"text":"My sequence number","width":128},{"text":"The server says okay I've ignored your sequence number","width":128},{"text":"Here's mine","width":64},{"text":"So this is the client saying hello","width":448},{"text":"This is the server saying hello back","width":192},{"text":"And this is the client saying I acknowledge your sequence number as well","width":384},{"text":"With that third packet we can also include some data","width":64},{"text":"So we'll see that again in the future","width":320},{"text":"And you see these diagrams in network classes where the client tells the server","width":768},{"text":"The server responds","width":128},{"text":"And the client responds again","width":128},{"text":"So we have this three way handshake","width":256},{"text":"But this takes time","width":320},{"text":"We haven't gone the speed of light","width":320},{"text":"They're covered by the speed of light*?","width":64},{"text":"They're covered by the hardware","width":128},{"text":"They're covered by the routers in the way","width":256},{"text":"YES","width":64},{"text":"Quick question","width":64},{"text":"Okay so","width":384},{"text":"The server asknfjasnf nomenclature, those words, are really only important for the initiation of the connection","width":512},{"text":"After that both sides can play","width":256},{"text":"Both sides have sequence numbers","width":192},{"text":"Both sides send acknowledgement packets","width":256},{"text":"Both sides control congestion","width":64},{"text":"Etc etc etc","width":64},{"text":"There is no longer a kind of master slave relation","width":448},{"text":"Both have equal footing","width":192},{"text":"So we'll finish with this that","width":384},{"text":"So one thing we'll try to prevent again is something called a SYN flood","width":256},{"text":"Which is an attack on TCP","width":128},{"text":"Where we try to send a server a whole load of packets with these synchronization messages","width":576},{"text":"Initiation messages","width":128},{"text":"We walk up and say HEY I'm SYN-ful","width":320},{"text":"And the server replies back and is now waiting for the response","width":192},{"text":"So it's very cheap to send these","width":192},{"text":"You can just fire a packet","width":64},{"text":"Whereas the server now has to set up a connection","width":64},{"text":"And it's like okay I'm waiting for the handshake","width":384},{"text":"So it's an attempt to do a denial of service on a server","width":512},{"text":"And with that we're out of time","width":64},{"text":"So thank you very much","width":192},{"text":"And I'll see you friday","width":64}]