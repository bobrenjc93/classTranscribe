[{"text":"alright! do we have sound, testing testing yes great! ","width":1472},{"text":"good morning and welcome to cs 241","width":128},{"text":"here's what we're going to do today","width":64},{"text":"i'm going to cast your minds back to 1991","width":192},{"text":"when a little while ago yes tim berners-lee posted the following","width":640},{"text":"the world wide web an executive summary","width":64},{"text":"the WWW project merges the techniques of information retrieval and hypertext to make an easy but powerful global information system. ","width":448},{"text":"little did he know that he would be so right.","width":256},{"text":"i'll skip on to the other fun bits like","width":192},{"text":"\"to follow a link are really clicks with a mouse! these are the only operations necessary to access the entire world of data!\" ","width":576},{"text":"he also says inside the same posting that ","width":64},{"text":"\"making a web is as simple as writing a  few sgml files\"","width":320},{"text":"so html actually has a history before that which was a larger markup language called sgml","width":384},{"text":"eventually as you know we decided to use a slightly simplified markup language called sgml","width":256},{"text":"the www model gets over frustrating incompatibilities of data format between and suppliers and readers by allowing negotiation of format between a smart browser and a smart server","width":768},{"text":"so here was tim berners lee's insight, is that","width":192},{"text":"what we need to figure out is not the coding and the making it work on all kinds of platforms,","width":256},{"text":"yes we need to do that,","width":128},{"text":"but it's actually the protocol that is important","width":192},{"text":"the protocol between the client and the server","width":256},{"text":"the summary does not describe the many exciting opened up by the WWW project ","width":384},{"text":"remember at this point he's just talking to a few friends at CERN, a physics lab in Europe","width":320},{"text":"such as efficient document caching, a reduction of redundant out of date copies and use of knowledge daemons ","width":448},{"text":"there is more information in the online project blah blah blah","width":64},{"text":"here, here's a very simple prototype","width":192},{"text":"128.14 and it gives you an IP address ","width":192},{"text":"i found an early version of his code","width":192},{"text":"version 0.2","width":64},{"text":"it has some bugs in it, it's not even secure","width":384},{"text":"but i thought it'd fun to show you the code because here's what your'e going to do in lab tomorow","width":320},{"text":"you're going to write a web server","width":64},{"text":"i'm going to give you half the code you fill in the rest","width":64},{"text":"and you're actually going to use mmap to be able to serve the files back onto a web page","width":256},{"text":"and here's the thing about searching","width":384},{"text":"at the other end of the scale, large information providers may provide an http server with full text or keyword indexing","width":768},{"text":"was tim berners-lee actually thinking about google at this point? ","width":384},{"text":"i think maybe not, i think maybe at the time he was thinking about servers that would actually index documents on that machine","width":576},{"text":"not about machines that were powerful enough to index the whole WWW project","width":320},{"text":"but anyways, next time i meet him i'll ask him what he meant by that comment","width":448},{"text":"so yeah, i'll include this text in tomorrow's section, you can read it yourself","width":448},{"text":"so let's turn to today's handout ","width":256},{"text":"alright, so just as a warmup exercise, how do we mount a disk image?","width":768},{"text":"so let's say i've given you a file and that file actually represents a complete file system","width":448},{"text":"what do i need to say? ","width":64},{"text":"well you're going to use the mount command","width":320},{"text":"because it's a file, a stream of bytes, we actually need to use a loopback so we're going to need the -t option because we need to turn it into a block based device ","width":1152},{"text":"we give it a reference to a file and we give it a point on our existing file system","width":128},{"text":"where we would like that file system to appera","width":192},{"text":"but the big big idea is 'hey i'm mounting it' i'm adding to my existing file system","width":640},{"text":"then i can cd into it and potentially change the files of that file system","width":256},{"text":"okay, what is the set uid bit?","width":192},{"text":"what's the purpose of that?","width":192},{"text":"so on a file i can set the uid bit and if I do what happens when people execute a file with that bit set? ","width":640},{"text":"that's right, it's the process that has started is not started as you as the caller","width":960},{"text":"it's started under the user of the owner of the file ","width":448},{"text":"so for example, if we have a program called sudo, which we do","width":384},{"text":"and the owner of that is root","width":128},{"text":"then if i've set the UID bit ","width":320},{"text":"then when you execute sudo, it doesn't execute as you","width":448},{"text":"it actually gets all the privileges of suid ","width":192},{"text":"so if for example you wanted to have a program that made some symbolic links and mounted a directory ","width":896},{"text":"and you wanted to do all this stuff that requires root and it requires admin access","width":576},{"text":"you might make a program and then by using suid ","width":320},{"text":"you could then allow other non admin people to run your script and for this script to do administrative things for them ","width":640},{"text":"so let's turn our attention to mmap ","width":512},{"text":"the purpose of mmap is to give us virtual memory that is backed by a file","width":384},{"text":"and when we try to read or write those virtual memory addresses ","width":320},{"text":"the kernel will automatically read or write to the file ","width":320},{"text":"that's on the file system","width":192},{"text":"we don't need to bother with reading it into our data structure","width":320},{"text":"our data structure can simply just be at that address","width":256},{"text":"okay well let me ask you now ","width":128},{"text":"we've actually got a couple of options ","width":320},{"text":"first of all ","width":128},{"text":"you have to choose one","width":128},{"text":"you have to say ","width":64},{"text":"when i'm going to call mmap, i either want a private copy or a shared copy","width":576},{"text":"so","width":192},{"text":"here's what happens if it's private","width":256},{"text":"you say","width":64},{"text":"any changes i make to my data structure","width":320},{"text":"i don't want them to be pushed back onto the disk","width":320},{"text":"i just want my own private copy","width":128},{"text":"so now ","width":256},{"text":"it's like saying ","width":64},{"text":"okay, load this stuff in, i'm going to scribble all over it and i don't want anybody else to know about it","width":384},{"text":"it's my own private copy","width":64},{"text":"and in fact for efficiency, we don't make an immediate copy of these pages, we do it only when a process attempts to write to those pieces of memory","width":832},{"text":"in other words, if i started four copies of your program, i don't need four times as much ram ","width":640},{"text":"i will only actually make a copy of a frame when you attempt to write into it","width":192}]