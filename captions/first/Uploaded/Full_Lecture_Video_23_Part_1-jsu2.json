[{"text":"okay so lets see if we can set this up then","width":384},{"text":"I'm going to start writing some code then to make a TCP conneciton","width":512},{"text":"so yes we need to setup one of these int objects","width":384},{"text":"and we'll have a pointer as well to get the result","width":128},{"text":"so what should i set for the family?","width":256},{"text":"well if i want to connect with version 4 I would be connecting with IF_INET6","width":704},{"text":"if i want to do ip version 6 i would put a 6 in here","width":320},{"text":"and what about the socket","width":192},{"text":"Well we want a stream based protocol","width":256},{"text":"in other words TCP","width":64},{"text":"so for our socket type we specify socket stream","width":384},{"text":"if i had left these entries as zero","width":320},{"text":"we're basically saying hey we don't care","width":64},{"text":"and then we get back that linkedlist","width":256},{"text":"what are you connect to the BBC using the UDP","width":192},{"text":"using um datagrams","width":64},{"text":"you could connect using tcp","width":128},{"text":"and these would just be different entries in that linkedlist","width":192},{"text":"and then your code could try them all","width":128},{"text":"hey lets see if we can get a webpage over udp","width":256},{"text":"and the answer is actually quite a few webservers will do that","width":320},{"text":"they'll look at you strangely and go what do you want?","width":64},{"text":"but they will actually say okay I'll give you back some data as a single packet","width":320},{"text":"right so right we're going to fill this in","width":384},{"text":"what do we put in here","width":128},{"text":"our function call of course is get address info","width":384},{"text":"and what do we pass over here","width":64},{"text":"well we need to pass in the hints","width":256},{"text":"and we need to pass in our reult","width":256},{"text":"so lets see if your neighbor can first of all the mistakes i've just deliberately made in that code","width":768},{"text":"and also what are the two missing things that I need to fill in here","width":384},{"text":"what are the first two parameters","width":64},{"text":"so what mistakes did I make and what's missing in that code","width":512},{"text":"okay right so ","width":6400},{"text":"couple a mistakes we made","width":192},{"text":"first of all actually we want the address of our hint struct","width":128},{"text":"so we'll put an ampersand there","width":64},{"text":"and also we want the address of this pointer","width":192},{"text":"it's going to change that pointer for us","width":192},{"text":"so what do we pass in here?","width":320},{"text":"well we pass in sometimes it's called the node but you can think of it as just basically the machine we want to connect to","width":320},{"text":"so we could write www.illinois.edu","width":192},{"text":"we could write www.bbc","width":128},{"text":"we could write we could say for example do ::1 if we wanted to connect to ourselves using IP6","width":640},{"text":"we could write 127.0.0.1","width":320},{"text":"if we wanted to connect to ourselves and we were using ip4","width":256},{"text":"for here, i'm going to now specify the port","width":256},{"text":"and you can do this with two ways you can literally just write a string","width":256},{"text":"like 1234","width":128},{"text":"but for well known ports like HTTP, HTTPs you can actually write the protocol name","width":896},{"text":"like HTTPS ","width":256},{"text":"if you happen to know the port number, yeah you could use that","width":384},{"text":"so get address info is surprisingly useful","width":192},{"text":"if you give it a ASCII name it will try to convert that to a port number","width":576},{"text":"for you","width":64},{"text":"so if it returns zero we've succeeded","width":768},{"text":"if it fails now we can actually find out why","width":256},{"text":"and that's where that function comes in ","width":256},{"text":"we could call gai_strerror and pass in that result code","width":640},{"text":"and that would give us back string","width":256},{"text":"now I'm not going to expect you to remember that, the string error","width":448},{"text":"but what you might do as a system programmer","width":256},{"text":"with this networking code and in fact any time you want to write good code","width":320},{"text":"is check the manpages","width":64},{"text":"so if we were to go to manpages","width":128},{"text":"is this going to work here we go","width":256},{"text":"alright","width":64},{"text":"we see that um okay i can take the return ","width":512},{"text":"if i now read the description and the return value of this it would tell me that hey this integer can be plugged into this call","width":384},{"text":"to give me a basic message about what went wrong","width":256},{"text":"and let's have a quick look down here to see the kind of things that can go wrong","width":256},{"text":"we have a bad family bad flags","width":384},{"text":"no data no name","width":128},{"text":"this call can fall in all sorts of ways","width":128},{"text":"we might fail at turning a name like bbc.com into an ip address","width":448},{"text":"okay but lets say it worked","width":384},{"text":"what do we do next","width":64},{"text":"well the first thing we might do is okay let's make a new socket","width":256},{"text":"now you seen in some of my earlier examples that i've made the socket at the very beginning of the code","width":384},{"text":"and i hardcoded in exactly what family and type of socket type I wanted","width":512},{"text":"but you could also just use the return values","width":256}]