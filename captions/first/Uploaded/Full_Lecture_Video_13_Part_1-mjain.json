[{"text":"you can think of this buffer as something that we call a ring buffer","width":640},{"text":"where it's not you've kind of taken the two ends of the buffer that we're using and connected them on the other side","width":640},{"text":"so now i need to be able to put things in and take them out and i could just chase my own tail forever and never worry about running off the end","width":640},{"text":"so conceptually theres a number of things that i have to have to make this work","width":448},{"text":"so if i'm the producer what do i need to know","width":256},{"text":"what does the producer need to know","width":448},{"text":"the producer is putting things in","width":320},{"text":"it needs to be able to hit that","width":384},{"text":"so the producer","width":64},{"text":"what i filled up my ring","width":256},{"text":"ok so lets say im starting from nothing and the producer wants to put something in","width":320},{"text":"what's the first thing it needs to know","width":192},{"text":"where to put it!","width":64},{"text":"okay so let's have a pointer in here that says okay in","width":576},{"text":"im going to put it in there","width":128},{"text":"i just started some place random","width":64},{"text":"if i was smart my underlying data structure might have started right there","width":512},{"text":"yeah i wouldve wrapped the two ends","width":64},{"text":"okay so now that the producer has put something in","width":192},{"text":"what does the producer have to do","width":128},{"text":"it can't n isn't write anymore","width":512},{"text":"right you have to increment in","width":256},{"text":"to now point here","width":128},{"text":"that's where my next one would be","width":192},{"text":"so that's my producer","width":128},{"text":"what did my consumer need to know","width":256},{"text":"ill tell you it's out","width":192},{"text":"a pointer to what","width":192},{"text":"the first one that i want to take out","width":320},{"text":"so in this case it's here","width":128},{"text":"i'll make the consumer blue","width":192},{"text":"and as the consumer puts things in here, it's gonna slowly increment in","width":704},{"text":"to be there","width":64},{"text":"and as the consumer takes things out","width":320},{"text":"it will","width":320},{"text":"delete them out of the queue, out of the ring buffer althoguh i guess it really doens't matter and that's the next one to take out","width":704},{"text":"so there are two things i have to be careful about","width":256},{"text":"whats the first thing that you said before","width":64},{"text":"i have to make sure that i dont what?","width":192},{"text":"i wnat to make sure that i don't overwrite data that hasn't been read yet","width":320},{"text":"my writers write, my producer is producing","width":192},{"text":"this is a big ring buffer","width":192},{"text":"i should've a smaller one","width":128},{"text":"okay i'm putting things in","width":128},{"text":"do i have to stop yet? no","width":256},{"text":"i can stop here","width":64},{"text":"but","width":64},{"text":"can i keep going?","width":192},{"text":"no","width":64},{"text":"i have to make sure i dont whoops that in","width":256},{"text":"i have to make sure i dont overflow my buffers","width":320},{"text":"and now for the output","width":320},{"text":"for the consumer the consumer is going to start taking things out","width":448},{"text":"let's say it gets here","width":320},{"text":"it can still take that out","width":128},{"text":"but now it takes that last one out","width":192},{"text":"and now my out is here","width":320},{"text":"can it take anything out anymore?","width":192},{"text":"no","width":64},{"text":"if i allowed the consumer to take something out at this point i would call that underflow","width":448},{"text":"overflow means that the producer produces too much and overwrites good data","width":256},{"text":"underflow means that my consumer is trying to take out something that's not there","width":384},{"text":"so those are two things we wnat to make sure don't happen we we're implementing a ring buffer","width":512},{"text":"so theres no underflow, and there's no overflow","width":192},{"text":"now i know you guys have done semaphores and you guys have done condition variables","width":448},{"text":"we're going to implement a solution for a ring buffer","width":64},{"text":"and of course we have a number of properties that we want to be able to have true for this solution","width":576},{"text":"and to start with we dont want any particular busy waiting","width":192},{"text":"so we want to mkae sure that our semaphores and condition variables are set up properly","width":384},{"text":"and we dont have to have any kind of deadlock","width":256},{"text":"i know you guys haven't talked specifically about what deadlock means, but at a minimum it's going to mean that someone can't move forward","width":512},{"text":"so we want to be able to look at both of these things","width":192},{"text":"we want to implement a solutoin that can do that","width":256},{"text":"our first solution im going to give you my basic solution","width":448},{"text":"and from there","width":128},{"text":"i've been told you guys like to sit down and come up with your own solutions","width":512},{"text":"so i'm going to give you a basic first start","width":1984},{"text":"so certainly whats the first thing that we need in our globals and initilazliation variables","width":512},{"text":"what are we trying to manage","width":192},{"text":"our buffer! right?","width":192},{"text":"so we need a buffer","width":128},{"text":"so i'm going to have a ","width":384},{"text":"and im gonna say im just going to have a 16 alright","width":448},{"text":"and then i need our two variables. what were the two variables i said we needed?","width":448},{"text":"in and out","width":64},{"text":"so since they are just pointers into my data structure","width":384},{"text":"they can just be integers","width":128},{"text":"im going to have an integer in and and integer out","width":320},{"text":"where should they both start","width":320},{"text":"they start at the same place? they start at diferent places?","width":640},{"text":"they start at 0?","width":64},{"text":"what should we do","width":64},{"text":"0","width":64},{"text":"we're going to initialize both in and out to be 0","width":512},{"text":"so i'm going to give you a basic in queue and i want you to tlel me if this works","width":576},{"text":"so i'm going to say for my enqueue im goign to put something in","width":384},{"text":"im going to put my value in whatever the in value is and increment in","width":768},{"text":"and my dequeue is im going to say that i have some result","width":448},{"text":"im going to save out my result becasue i want to use it later","width":192}]