[{"text":"what was S2 intialized to ? 0","width":256},{"text":"which is Okay, there's nothing in there","width":384},{"text":"but","width":64},{"text":"i'm never changing it","width":256},{"text":"but i'm waiting forever","width":256},{"text":"my dequeue is never getting into anything","width":576},{"text":"and my enqueu is gonan run on forever","width":384},{"text":"so if we look at our requirements","width":64},{"text":"one of the things we asked for is that have we stopped overflow from happening","width":256},{"text":"is there overflow in this example","width":576},{"text":"what was the definition of overflow","width":320},{"text":"overwriting good data with something i'm trying to put in","width":576},{"text":"do we have overflow here? Yes, because the writer is going around writing writing and writing","width":448},{"text":"do you have underflow? Not really","width":384},{"text":"Why not?","width":64},{"text":"yes because dequeue can never really take out anything","width":192},{"text":"so you can really have underflow if you can't take anything out","width":192},{"text":"so this didn't work","width":320},{"text":"what else do you want to say about this","width":256},{"text":"do we have a race condition?","width":128},{"text":"is there any race conditions in here?","width":384},{"text":"no ","width":128},{"text":"why not?","width":64},{"text":"we've got our locks. So we can only have one enqueue in there at the same time","width":256},{"text":"and our dequeue is never going anywhere so it doesn't really matter","width":320},{"text":"actually it's gonna acquire the lock and it's gonna wait, and it's gonna block everybody from doing anything","width":832},{"text":"once anyone trying to call enqueue, the whole system is gonna come to a standstill","width":64},{"text":"so, we do have a deadlock","width":384},{"text":"and we'll talk more about deadlock on wednesday","width":320},{"text":"so, lets' move on","width":512},{"text":"we still have s1 and s2","width":640},{"text":"still initialized to 16 and 0","width":128},{"text":"so this is still spaces","width":192},{"text":"and this is still items","width":256},{"text":"what are the problems that you might noticed before from our prior one","width":192},{"text":"no matter what the enqueue did, it only affected S1","width":768},{"text":"and no matter what the dequeue did, it only affected S2","width":384},{"text":"so there was no coordination between the Enqueue and the Dequeue","width":64},{"text":"so i need to be able to tell the reader the dequeue that there's something to take out","width":576},{"text":"so for my next solution, i've mixed it up a bit","width":384},{"text":"so now i do a sem_wait on s2","width":256},{"text":"and a sem_post on s1","width":128},{"text":"and a sem_wait on S1 and a sem_post on s2","width":320},{"text":"did that work","width":320},{"text":"Okay did i fix my problem?","width":2688},{"text":"No oh","width":320},{"text":"what did i do ths itme","width":192},{"text":"only dequeue could work this time","width":192},{"text":"why can't enqueue work","width":384},{"text":"S2 is always 0","width":192},{"text":"so i'm starting on calling S2. I try to decrement it, and I've got a problem","width":576},{"text":"I did fix one of my other problems though","width":192},{"text":"did you notice what I switched?","width":64},{"text":"i switched the order of the sem_wait and the lock","width":384},{"text":"i' dont actually acquire the semaphore until the semaphore is released","width":192},{"text":"and that is very improtant","width":320},{"text":"because if I acquire the lock and I wait for the semaphore to be released","width":448},{"text":"but somebody is not gonna released the semaphore unless they've got the lock.","width":128},{"text":"i've created a bad problem called deadlock","width":192},{"text":"that fixed that a little bit","width":320},{"text":"Okay","width":192},{"text":"so the problem here was This one starts at zero, right?","width":576},{"text":"so whenever I call sem_wait on it","width":192},{"text":"it's just gonna block","width":192},{"text":"what about this guy","width":448},{"text":"Do i have overflow?","width":64},{"text":"Do I have undeflow? Why?","width":640},{"text":"Here","width":64},{"text":"what does S1 start at?","width":128},{"text":"it starts at 16","width":256},{"text":"my first call to dequeue is gonna do a sem_wait on S1 and its' gonna say ","width":512},{"text":"\"aHH!! Cool, it was 16 now, it's 15 here, so there' nothing really in there\"","width":128},{"text":"so i've given you some steps on how you would do this, i want you guys to implement your own","width":960},{"text":"i can tell you that you can do it with those variables","width":320},{"text":"figure out what you want the variables to be initialized to ","width":192},{"text":"and how to implement your enqueue and dequeue","width":128},{"text":"so it's only a couple of lines of code don't make it too complex","width":384},{"text":"Yeah?","width":4544}]