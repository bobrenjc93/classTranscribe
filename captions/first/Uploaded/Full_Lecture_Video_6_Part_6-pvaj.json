[{"text":"okay","width":192},{"text":"right lets run this, see what happens","width":192},{"text":"and it wont quite work, cus uhhh gcc will say \"hey I've no idea.. what\"","width":448},{"text":"uhhh doesn't know what sleep is, and shouldn't know what pthread is either","width":832},{"text":"so lets fix this","width":128},{"text":"we need uhmm","width":128},{"text":"pthread.h","width":64},{"text":"and also on our options down here","width":64},{"text":"we have to tell the compiler","width":192},{"text":"please","width":64},{"text":"I really wanna compile with pthread","width":256},{"text":"there we go","width":128},{"text":"... what. okay! ","width":576},{"text":"right great","width":64},{"text":"so it printed out..","width":128},{"text":"dead code..","width":128},{"text":"so what I want to show you is...","width":256},{"text":"look we passed in a pointer to something over here","width":384},{"text":"and then inside our function called beans, we just printed the pointer value","width":192},{"text":"we did not try to follow the pointer value","width":128},{"text":"if I tried to print out the string of deadcode, ","width":320},{"text":"it will probably crash","width":128},{"text":"its probably not a valid memory address to read","width":64},{"text":"okay ","width":64},{"text":"and now my machine is getting hot","width":320},{"text":"why? because there the cpu","width":64},{"text":"kept runnign","width":128},{"text":"uhmmm it it it, my program never finished","width":192},{"text":"right, the first cpu is still running","width":384},{"text":"so what have we just proved","width":320},{"text":"we have just proven","width":256},{"text":"that we can do two things at the same time","width":64},{"text":"inside one process","width":128},{"text":"what do you think happens","width":192},{"text":"if I make a hundred threads","width":256},{"text":"my machine ","width":320},{"text":"might only have say a couple of cpus","width":192},{"text":"so how is it going to run","width":192},{"text":"those threads","width":64},{"text":"if Ive only got 2 actual cpus","width":256},{"text":"so what I do, is","width":320},{"text":"let one thread done","width":64},{"text":"and when it finishes","width":64},{"text":"it says","width":64},{"text":"next thread I know youve been waiting for a while","width":448},{"text":"you can have the cpu next","width":64},{"text":"actually its cleverer than that","width":192},{"text":"every 10 milliseconds or so","width":256},{"text":"a little hardware timer goes off","width":64},{"text":"and the operating systems scheduler comes up","width":256},{"text":"and it says","width":256},{"text":"you have been having the cpu for too long","width":192},{"text":"Im going to get this other thread","width":256},{"text":"that has been waiting for so long","width":256},{"text":"and so im going to allow it to run","width":256},{"text":"so the operating system","width":64},{"text":"treats memory, the cpu and other resouces","width":320},{"text":"as scarce resources","width":192},{"text":"and tries to allocate them very efficiently","width":256},{"text":"and the different parts of the running system","width":64},{"text":"that wants to have access","width":128},{"text":"and how we schedule that ","width":192},{"text":"is actual an area of research","width":192},{"text":"so we have passed in something","width":256},{"text":"what we have passed in here","width":256},{"text":"lets make our program","width":64},{"text":"return something","width":64},{"text":"so ","width":64},{"text":"Ill return another void pointer","width":192},{"text":"lets call it one two three four","width":320},{"text":"how do I get that from another thread?","width":256},{"text":"Well, this time Im going to call another thread","width":320},{"text":"pthread join","width":128},{"text":"so pthread join","width":128},{"text":"is a bit like","width":64},{"text":"wait","width":64},{"text":"it say","width":192},{"text":"dont continue","width":64},{"text":"until this thread has finished","width":128},{"text":"and uhh","width":128},{"text":"lets just grab it","width":128},{"text":"okay","width":64},{"text":"here is the thread I care about","width":384},{"text":"so lets just pass in the id number","width":256},{"text":"that we have before","width":128},{"text":"and uhmm","width":64},{"text":"I better have","width":64},{"text":"some where to store it","width":192},{"text":"right","width":64},{"text":"so now I just need a void pointer","width":256},{"text":"and I need the address of that void pointer","width":256},{"text":"and so lets finally print out the value of that","width":384},{"text":"okay, so","width":320},{"text":"what did we see of it here","width":192},{"text":"we have still got two thread","width":256},{"text":"then the new thread","width":192},{"text":"the second thread","width":128},{"text":"slept for 2 seconds","width":128},{"text":"the main thread","width":64},{"text":"the first thread say","width":128},{"text":"okay","width":64},{"text":"Im just going to join","width":128},{"text":"Im just gonna join","width":64},{"text":"so it gets paused","width":128},{"text":"because its waiting for that second thread to finish","width":384},{"text":"and then the second thread finally prints out","width":320},{"text":"what it is given","width":64},{"text":"and then we can get the value in the first thread using pthread join","width":576},{"text":"theres another way to exit thread","width":256},{"text":"and that way is called pthread_exit","width":384},{"text":"right","width":64},{"text":"so lets exit with something","width":128},{"text":"uhhh","width":64},{"text":"lets exit with","width":128},{"text":"ohh I dont know","width":64},{"text":"hello!","width":192},{"text":"oh, wrong way","width":640},{"text":"did I...","width":704},{"text":"ohh, yes","width":704},{"text":"okay Im ","width":64},{"text":"going to cast it as a void ** pointer","width":320},{"text":"there we go","width":64},{"text":"if you call pthread_exit","width":128},{"text":"youre telling the system","width":320},{"text":"Im done with this","width":128},{"text":"but my cpu for this thread","width":256},{"text":"does not need to execute","width":128},{"text":"any more","width":64},{"text":"so this time","width":128},{"text":"my thread called pthread_join","width":256},{"text":"prints out","width":64},{"text":"hello world and hello","width":192},{"text":"instead of the other return value","width":256},{"text":"soo","width":64},{"text":"pthread_join","width":128},{"text":"the exit here basically says","width":256},{"text":"Im done","width":64},{"text":"andd with that","width":128},{"text":"weve finished","width":64},{"text":"have a wonderful section tomorrow","width":256},{"text":"if you have any questions and ask me now","width":256},{"text":"there were three students","width":128},{"text":"who forget to put the exam key","width":256},{"text":"and btw your quiz scores are in your subversion","width":320},{"text":"if you are one of those students","width":64},{"text":"come down and we can sort that out now","width":64}]