[{"text":"now there's no order right there's no ordering i this because everytime you do a condition broadcast","width":576},{"text":"there's no queeue","width":128},{"text":"it just picks one","width":64},{"text":"it's possible that the operating system implemented as a queue and it took the frst one that asked for it","width":384},{"text":"but theres no guarantee of that","width":192},{"text":"you don't know how the operating sytem impleemented a condiion signal","width":320},{"text":"why am i unlokcing the mutex when i do a write ","width":1088},{"text":"there's actuall a reason for it","width":192},{"text":"what happens when i unlock","width":64},{"text":"we aid we didn't need it before but actually we do","width":192},{"text":"why do we need it?","width":128},{"text":"right. so we want everybody anybody who's coming in reader or writer","width":512},{"text":"we want them to be sitting on the condition variables","width":192},{"text":"here and here","width":64},{"text":"the only way for them to get to the condition variable is if the lock is unlocked","width":384},{"text":"while theres a writer writing","width":128},{"text":"that doesn't mean another writers' going to get it","width":192},{"text":"it just means aother writer will get to the condition variable","width":320},{"text":"that clear?","width":256},{"text":"because i want to move on to the topic we are suppoesd to be talking about today which is deadlock","width":896},{"text":"ok","width":128},{"text":"so i'm going to do something that i know lawrence never does but i'm going to use some slides","width":960},{"text":"dr seuss' birthday as on monday so i thought we would honor him with the ultimate deadlock","width":704},{"text":"actually if you take algorthsms people talk about cat in the hat which is recurion","width":320},{"text":"dr seuess seemed to have an affinity for algorithms","width":320},{"text":"one of the htings that we didn't necessarily see this specific problem of deadlock when we looked at the readers and writers problem but we did see in the circular buffer but we did see things getting stuck","width":896},{"text":"and the canonical example of deadlock is these are the north going and south going acks","width":448},{"text":"zack*","width":64},{"text":"they both walk up to each other and they go \"I'm not moving. I want your spot\"","width":384},{"text":"and the other one wats my spot","width":192},{"text":"adn neither one is willing to ake any adjustements and they're stuck","width":256},{"text":"this is the canonical deadlock","width":256},{"text":"what's happening is i'm waiting ofr him to move and he's waiting for me to move","width":384},{"text":"and with that we create something that is actually very easily to notice that there is deadlock in the system","width":512},{"text":"so we see deadlock everyday","width":192},{"text":"anybody living you know who's ever lived in a city you've seen deadlock on the streets any time","width":512},{"text":"and it could be causedby lots of different things","width":256},{"text":"it could be caused by some idiot driving into the middle of the streeet and stopping there and deciding what to do","width":448},{"text":"and all the other traffice come along and starts going yeah um we're stuck","width":384},{"text":"and it doesn't even have to be you konw an indecisvie problem","width":384},{"text":"it could jsut be that there's lots of traffic and a ca pulls into the intersection adn can't make it al l the way across and yo're going to have the same problem","width":832},{"text":"this is what we call gridlock","width":128},{"text":"gridlock is deadlock","width":128},{"text":"nobody acn move","width":64},{"text":"everybody is waiting for some other spot that doesn't exist","width":320},{"text":"even if the cars that were blocking it in the first place are gone it still can't go anywhere","width":384},{"text":"what we're going to see is that hte main problem here is that hte first car is waiting ofr the let car to move the left car is waiting for the bottom car to move and the bottom car is waiting for the right car to move and so and so forth","width":768},{"text":"and the same problem with the zacks","width":192},{"text":"is that we can't get anywhere","width":128},{"text":"so essentially","width":128},{"text":"deadlock is a situation where ","width":128},{"text":"we have processes is you want to get away from the cars and the dr seuss characters","width":512},{"text":"we have processes that are waiting ofr an event that will never occur","width":256},{"text":"and it turns out that","width":128},{"text":"this doesn't even have to be multiple processes","width":320},{"text":"typically it is multple processes and if","width":256},{"text":"they can't ake any progress","width":192},{"text":"then the system is deadlocked","width":128},{"text":"turns out htat a single source can deadlock itself","width":320},{"text":"ti's waiting for some resource how do you think it could deadlock itself?","width":576},{"text":"anybody?","width":256},{"text":"i have on process and it's moving along","width":384},{"text":"it's trying to it's waiting for something","width":512},{"text":"if i have a condition variabel that i set to something and then in that same thread or same process i then went to go","width":896},{"text":"or a lock even","width":64},{"text":"you odn't need to be as complex as a cv","width":192},{"text":"i set a lock to locked","width":128},{"text":"and then i'm moving along and then in that same control thread i say unlock","width":384},{"text":"i'm stuck if nobody else is going to touch that","width":256},{"text":"so i can deadlock myself by not using locks and unlocks correctly","width":256},{"text":"so there's also something called livelock","width":256},{"text":"can i have a volunteer come up here ofr a second","width":384},{"text":"just a simple. i'm not going to hurt anybody i promise","width":320},{"text":"people in the front","width":320},{"text":"i'm going to give you an example","width":256},{"text":"ok","width":64},{"text":"first we're oging to be the zacks","width":128},{"text":"stand there","width":128},{"text":"ok","width":64},{"text":"we can't go anywhere","width":128},{"text":"ok but now he's going to be really nice nad sya ok i'm going to move to the side so you can move to the side","width":448},{"text":"ok","width":64},{"text":"try again","width":64},{"text":"one more time","width":192},{"text":"ok you can go back to your seat","width":128},{"text":"that's called livelock","width":128},{"text":"did we  get anywhere?","width":128},{"text":"no","width":64},{"text":"but we're standing here","width":64},{"text":"you ever done that in the hallway hwere you just og back in forth in front of somebody?","width":320},{"text":"that's exaclty what livelock is","width":192},{"text":"we were moving","width":64},{"text":"we were potentially making progress","width":128},{"text":"potentially doing something","width":128},{"text":"but we were not mkaing any progress","width":128},{"text":"or got past where we wanted to be","width":128},{"text":"so in terms of processes we're going to see that processes can sometimes try to avoid deadlock ","width":512},{"text":"by essentially","width":128},{"text":"he was trying to avoid deadlock by saying ok \"i'm going to be good and say you can have the spot\"so they're releasiing a resource","width":576},{"text":"but hten i say no i want another one","width":128},{"text":"so hwatever algorthms you deide to try to avoid deadlock could create this livelock situation","width":320}]