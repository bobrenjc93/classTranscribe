[{"text":"Okay, so if we got the frame number","width":448},{"text":"how do i now combine that with the offset","width":128},{"text":"to find the actual piece of RAM, the actual RAM location","width":256},{"text":"could you write down an expression that takes the frame number and somehow combines it with the offset to give you the actual address in memory that you should use","width":640},{"text":"you're not simply gonna add them together","width":320},{"text":"alright, i'm hearing some good things down here, but...","width":384},{"text":"lets see","width":64},{"text":"what do we got up here","width":192},{"text":"any ideas","width":64},{"text":"somebody shout out something","width":1088},{"text":"even if its wrong; its okay!","width":64},{"text":"alright what do we got...","width":64},{"text":"gimme an idea","width":64},{"text":"Adam! Okay. thanks for playing... guess again!","width":320},{"text":"right. Our problem is that our page number just goes up in ones. err Sorry our frame number goes up in ones","width":384},{"text":"zero one two three four five.","width":64},{"text":"we dont want that","width":64},{"text":"we want our addresses as you can see. they go up by 4096 bytes","width":448},{"text":"so we need to multiply that by 4096 bytes. Yes you got the correct answer thank you","width":256},{"text":"I heard you talking about it earlier","width":256},{"text":"right so, we wanted to take this and somehow multiply by 4096","width":384},{"text":"so i could write that that the physical address is gonna be then the frame number, Fnum multiplied by 4096","width":1088},{"text":"plus the offset","width":64},{"text":"but i dont want in hardware to multiply by 4096. do you realize how much silicon that would take???","width":640},{"text":"NO i dont want to do multiplication. What would be a better thing that multiplication ","width":256},{"text":"Yes!","width":128},{"text":"Just a step to the right","width":128},{"text":"Right so we want to step to the left","width":448},{"text":"we're going to shift left...right?","width":256},{"text":"and we need to go up by how many?","width":192},{"text":"is it twelve? yeah we need to multiply by 2 to the twelve. so we'll shift it left by 12","width":448},{"text":"how do you shift left by 12 in hardware?","width":192},{"text":"easy you just move the wires off by 1. you just move the wires up","width":320},{"text":"so by shifting in hardware is trivial, you just relabel what the electrical wires actually mean","width":512},{"text":"okay so got ourselves a physical address. fantastic! easy! that's our page table!","width":448},{"text":"so life back in 32 bit world is easy, we calculated how many, how big, our table was. it doesnt seem to big, we just have a million entries.","width":640},{"text":"so now we can work out this kind of typical exam question.","width":448},{"text":"right, 32 bit system. in other words, on a 32 bit system, each entry is gonna be 4 bytes. ","width":320},{"text":"if each page table is 4 kilobytes. okay so that tells me","width":320},{"text":"that","width":256},{"text":"the offset then is gonna be, two the twelth","width":512},{"text":"so this means","width":128},{"text":"that that my offset is gonna be 12 bits","width":192},{"text":"so that means Ive got 32-12 bits remaining","width":640},{"text":"so number of entries is 2 to the 20. or about a million","width":1408},{"text":"okay, so we worked out a number of entries. how much space is it actually gonna require to store this entire page table for this process","width":512},{"text":"well each entry, has to store a number, the physical frame, and I'm gonna say we'll use 4 bytes for taht","width":1024},{"text":"you could squeeze it into a little bit less, but...","width":320},{"text":"we could squeeze it in into kind of three bytes or so, but let's not do that. lets keep things simple.","width":320},{"text":"each entry is 4 bytes... why did i need 4 bytes? because I'm taking back numbers which are 4 bytes long","width":320},{"text":"so ive got two to the twenty times four bytes","width":256},{"text":"is what?","width":128},{"text":"4 megabytes!","width":256},{"text":"so the overhead of using virtual memory here is 4 megabytes!","width":384},{"text":"and we better store this table in some well known place in physical memory","width":640},{"text":"we can't store this table somewhere in virtual memory address otherwise we'd have to use the table to figure out where it is stored in real memory","width":576},{"text":"so the cpu has another register that says: okay if you want to actually turn a virtual address into a physical ones","width":704},{"text":"for this particularly process... there's somewhere in memory where i put aside 4 megabytes to store this table","width":448},{"text":"so, a little challenge for you here","width":960},{"text":"let's say Ive got a program that's gonna read a byte at this virtual memory address","width":768},{"text":"how we many memory reads  are required?","width":256},{"text":"so if I didnt have a virtual memory, I would just need one memory read. I would just read the byte location 512","width":2240},{"text":"i would just read the byte hexadecimal value 200","width":64},{"text":"but we now have virtual memory, so how many memory reads are required","width":320},{"text":"two! YES!","width":256},{"text":"we need to actually go back to main memory and say \"okay I'm tying to read this particular address\"","width":384},{"text":"so, I need to turn this into a page number and offset and once ive got the page number, i'll go back to my table, lookup table, which is stored in real memory in order to pull out the actual physical frame","width":1088},{"text":"and so this might be pointing anywhere. okay its actually in here","width":256},{"text":"so it took me two memory reads, i had to read the 32 bits in here, and then finally, the byte that i cared bout","width":640},{"text":"what have i just done to my machine?!","width":384},{"text":"I've just through sheer brilliance managed to make it twice as slow! I've halved its speed!!","width":576},{"text":"remember, memory is really slow! compared to the CPU, you could often do ten to a hundred, if not more instructions for the time it takes to go to main memory","width":704},{"text":"remember? HI MEMORY MEM READ? \"HELLO","width":320},{"text":"youre gonna do that twice now. for every single time youre gonna read or write","width":320}]