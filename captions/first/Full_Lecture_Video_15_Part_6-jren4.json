[{"text":"it's kind of a fun thing to try and implement","width":256},{"text":"so we can discuss so called candidate solutions and we can quickly bring out our coffman conditions and say okay does it satisfy all coffman conditions? is deadlock possible?","width":1088},{"text":"or does it break them in some way?","width":192},{"text":"so what if we did this?","width":256},{"text":"we'll pick up a left chopstick","width":192},{"text":"after we've done that we pick up the right","width":192},{"text":"after we've succeeded at that, great we can eat and release","width":320},{"text":"is deadlock possible?","width":192},{"text":"right well clearly we have exclusive access, we're not sharing the chopsticks","width":896},{"text":"yes we can have circular wait, what else?","width":256},{"text":"hold and wait yes we've got hold and wait","width":320},{"text":"because we are grabbing one resource and we're not letting go until after we picked up the second resource so we have hold and wait as well","width":896},{"text":"so what have I missed?","width":128},{"text":"mutual exclusion, circular wait, hold and wait and preemption, no one is telling these philosophers to put them down so yes we have deadlock","width":640},{"text":"the host is not saying okay put that down alright","width":384},{"text":"what if we try to do this the other way? we picked up the right one and picked up the left","width":256},{"text":"ahh we can still have deadlock as well same condition applies this time of course we would have if each one is picking up the right then we could...","width":896},{"text":"we can see we've got","width":192},{"text":"we can form a circle of all the philosophers waiting for the other chopstick, they all manage to pick up the right chopstick at the same time and they never get to pick up the left chopstick because it's being held by another philosopher","width":896},{"text":"so they all get stuck holding one chopstick","width":192},{"text":"so yes again we have deadlock","width":128},{"text":"what about if we had eat what I tell you","width":384},{"text":"could we use this to avoid deadlock?","width":192},{"text":"yes, if we're in control, if we have a birds eye view of the table we can ensure that there's never ever circular wait","width":640},{"text":"we could avoid deadlock","width":192},{"text":"so this is okay but now it requires some sort of absolute look at the table","width":576},{"text":"and a complete understanding of the state","width":192},{"text":"so this is potentially okay provided I understand deadlock, provided my solution above this can avoid...","width":576},{"text":"we can avoid deadlock","width":128},{"text":"okay what about this one? pick up left chopstick, try to pick up right chopstick, if that doesn't work","width":768},{"text":"then release both and restart","width":128},{"text":"deadlock?","width":256},{"text":"it's not deadlock","width":256},{"text":"it's not deadlock because there's no hold and wait, we've fixed...","width":640},{"text":"hold and wait","width":64},{"text":"but...","width":256},{"text":"this is a kind of classic approach to try and solve these kinds of problems","width":320},{"text":"that oh we didn't get both resources we'll just back out a bit and retry","width":320},{"text":"these kinds of implementations usually suffer from livelock","width":256},{"text":"usually what you'll end up with is one poor philosopher that doesn't get to eat as much as the others possibly none at all","width":576},{"text":"because it never gets a chance to pick up both","width":320},{"text":"it's continuously picking up one chopstick and putting it down, picking it up and putting it down so you're wasting a lot of CPU time attempting to get both","width":512},{"text":"but it's in fact very hard to get both","width":256},{"text":"so yes you can avoid deadlock but then you have to worry about livelock","width":384},{"text":"and with that have a wonderful weekend we'll let you know shortly when the next MP is out ","width":320},{"text":"and as always I have time now if you have any questions for me","width":384},{"text":"thank you very much, have a fun and safe unofficial","width":320}]